(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0d3a86"],{"5e66":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("q-breadcrumbs",{staticClass:"col-12 text-grey"},[n("q-breadcrumbs-el",{attrs:{label:"Maintenance",icon:"widgets"}}),n("q-breadcrumbs-el",{attrs:{label:"Fuel and Transportation",icon:"drive_eta"}})],1),n("br"),n("q-table",{attrs:{pagination:e.myPagination,data:e.data.fuel_delivery,columns:e.columns,filter:e.filter,"row-key":"name",flat:"",bordered:""},on:{"update:pagination":function(t){e.myPagination=t}},scopedSlots:e._u([{key:"top-right",fn:function(){return[n("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(t){return e.store.market_areas.includes(t.row.location)?n("q-tr",{attrs:{props:t}},[n("q-td",{key:"province",attrs:{props:t}},[e._v(e._s(t.row.location))]),n("q-td",{key:"fuel_transporation_fee",attrs:{props:t}},[e._v(e._s(""!=t.row.fuel_transpo&&0!=t.row.fuel_transpo?e.$prettyMoney(t.row.fuel_transpo):"FREE"))]),n("q-td",{key:"edit",attrs:{props:t}},[n("q-btn",{attrs:{icon:"edit",flat:"",dense:""},on:{click:function(n){return e.editFee(t.row.__index,t.row.fuel_transpo)}}})],1)],1):e._e()}}],null,!0)})],1)},a=[],o=n("a34a"),i=n.n(o),s=(n("7514"),n("96cf"),n("c973")),l=n.n(s),c={data:function(){return{myPagination:{rowsPerPage:10},data:{},filter:"",columns:[{name:"province",label:"Province",field:"location",align:"center",style:"width:20%"},{name:"fuel_transporation_fee",label:"Fuel/Transportation Fee",field:"fuel_transpo",align:"center"},{name:"edit",label:"Edit",align:"center",style:"width:200px"}]}},methods:{editFee:function(e,t){var n=this;this.$q.dialog({title:"Edit Fuel/Transporation Charge",prompt:{model:this.data.fuel_delivery[e].fuel_transpo,type:"number"},cancel:!0}).onOk(function(t){n.$q.dialog({title:"Do you want to continue?",message:"Charges apply to all services.",cancel:!0}).onOk(function(){n.data.fuel_delivery[e].fuel_transpo=t,n.$dbCon.service("store-fuel-delivery").update(n.data._id,n.data).then(function(){n.$q.notify({message:"Successfully Updated!",position:"top-right",color:"primary",timeout:700,icon:"check"})})})})}},mounted:function(){var e=l()(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$dbCon.service("store").find({query:{_id:this.$local.getItem("store_token")}}).then(function(e){t.store=e.data[0]});case 2:return e.next=4,this.$dbCon.service("store-fuel-delivery").find({query:{store_id:this.$local.getItem("store_token")}}).then(function(e){t.data=e.data[0]});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},u=c,d=n("2877"),p=Object(d["a"])(u,r,a,!1,null,null,null);t["default"]=p.exports}}]);