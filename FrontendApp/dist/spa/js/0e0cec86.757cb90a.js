(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["0e0cec86","2d0b9460"],{"1c4c":function(t,e,a){"use strict";var s=a("9b43"),n=a("5ca1"),i=a("4bf8"),r=a("1fa8"),o=a("33a4"),c=a("9def"),l=a("f1ae"),d=a("27ee");n(n.S+n.F*!a("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,n,p,u=i(t),m="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,_=void 0!==v,f=0,y=d(u);if(_&&(v=s(v,h>2?arguments[2]:void 0,2)),void 0==y||m==Array&&o(y))for(e=c(u.length),a=new m(e);e>f;f++)l(a,f,_?v(u[f],f):u[f]);else for(p=y.call(u),a=new m;!(n=p.next()).done;f++)l(a,f,_?r(p,v,[n.value,f],!0):n.value);return a.length=f,a}})},"31f2":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{attrs:{label:"PAY NOW",color:"primary"},on:{click:function(e){t.toPay=!0}}}),a("q-dialog",{attrs:{persistent:""},model:{value:t.toPay,callback:function(e){t.toPay=e},expression:"toPay"}},[a("q-card",{staticStyle:{width:"600px"}},[a("q-card-section",{staticClass:"bg-primary"},[a("div",{staticClass:"text-h6 text-white"},[t._v("Payment Information")])]),a("q-separator"),a("q-card-section",[a("form",{ref:"paymentWidget",staticClass:"paymentWidgets",attrs:{action:t.currentLink,"data-brands":"VISA MASTER AMEX"}})]),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{label:"cancel",flat:""},on:{click:function(e){t.toPay=!1}}})],1)],1)],1)],1)},n=[],i=a("a34a"),r=a.n(i),o=(a("4917"),a("96cf"),a("c973")),c=a.n(o),l={props:{item:{type:Object},onlinePaymentResult:{type:Function}},data:function(){return{currentLink:window.location.href,toPay:!1}},methods:{setLoaded:function(){this.$q.loading.hide()},openAltPayNet:function(){this.toPay=!0}},watch:{"$route.query":function(){var t=c()(r.a.mark(function t(){var e,a,s=this;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!("id"in this.$route.query&&"resourcePath"in this.$route.query)){t.next=8;break}return this.$q.loading.show(),e=this.$route.query.id,a=this.$route.query.resourcePath,this.toPay=!1,this.$router.push(this.$route.path),t.next=8,this.$axios.get(this.$appLink+"/paymentResult?id="+e+"&resourcePath="+a).then(function(t){var e=/^(000\.000\.|000\.100\.1|000\.[36])/,a=t.data.result.code.match(e);try{0!=a.length?(s.onlinePaymentResult("success",t.data),s.$q.loading.hide()):(s.onlinePaymentResult("error",t.data),s.$q.loading.hide())}catch(n){s.onlinePaymentResult("error",t.data),s.$q.loading.hide()}});case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),toPay:function(){var t=this;if(1==this.toPay){this.$q.loading.show();var e=document.createElement("script");this.$axios.get(this.$appLink+"/createCheckOut?amount="+this.item.price).then(function(){var a=c()(r.a.mark(function a(s){return r.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:e.src="https://test.oppwa.com/v1/paymentWidgets.js?checkoutId=".concat(s.data.id),e.addEventListener("load",t.setLoaded),document.body.appendChild(e);case 3:case"end":return a.stop()}},a)}));return function(t){return a.apply(this,arguments)}}())}}}},d=l,p=a("2877"),u=Object(p["a"])(d,s,n,!1,null,null,null);e["a"]=u.exports},6356:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["For Advertisment"==t.status?a("q-btn",{attrs:{color:"grey",label:"Advertise",flat:""},on:{click:function(e){t.forAdvertisment=!0}}}):t._e(),"For Approval"==t.status?a("q-btn",{attrs:{color:"primary",label:"Pending",flat:""},on:{click:function(e){t.pendingPaid=!0}}}):t._e(),"Pending"==t.status?a("q-btn",{attrs:{color:"primary",label:"Upload Deposit Slip",flat:""},on:{click:function(e){t.pendingPaid=!0}}}):t._e(),"Paid"==t.status?a("q-btn",{attrs:{color:"primary",label:"Advertised",flat:""},on:{click:function(e){t.pendingPaid=!0}}}):t._e(),a("q-dialog",{staticClass:"full-width",attrs:{persistent:""},model:{value:t.forAdvertisment,callback:function(e){t.forAdvertisment=e},expression:"forAdvertisment"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",{staticClass:"row items-center"},[a("div",{staticClass:"text-h6"},[t._v("ADVERTISE YOUR "+t._s(t.item_type.toUpperCase())+" NOW!")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("q-separator"),a("q-card-section",{staticClass:"scroll",attrs:{align:"center"}},[a("q-stepper",{ref:"stepper",attrs:{flat:"",bordered:"","header-nav":"",color:"primary",animated:""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("q-step",{attrs:{name:1,title:"View Plan",icon:"remove_red_eye",done:t.step>1}},[a("q-icon",{attrs:{name:"verified_user",color:"primary",size:"100px"}}),a("div",{staticClass:"text-h4 text-bold text-primary"},[t._v("₱499.00/month")]),a("div",{staticClass:"text-h5"},[t._v(t._s(t.item_type[0].toUpperCase()+t.item_type.substring(1,t.item_type.length))+" Advertisment")]),a("div",{staticClass:"q-pt-lg",staticStyle:{width:"500px"},attrs:{align:"left"}},[a("div",{staticClass:"text-h6"},[a("q-icon",{attrs:{name:"check",color:"primary"}}),t._v("\n                "+t._s(t.item_type[0].toUpperCase()+t.item_type.substring(1,t.item_type.length))+" will be featured\n              ")],1),a("div",{staticClass:"text-h6"},[a("q-icon",{attrs:{name:"check",color:"primary"}}),t._v("\n                "+t._s(t.item_type[0].toUpperCase()+t.item_type.substring(1,t.item_type.length))+" will be recommended on search results\n              ")],1)]),a("q-stepper-navigation",[a("q-btn",{attrs:{color:"primary",label:"Continue"},on:{click:function(){t.done1=!0,t.step=2}}})],1)],1),a("q-step",{attrs:{name:2,title:"Number of Months",icon:"calendar_today",done:t.step>2}},[a("table",{attrs:{width:"100%"}},[a("tr",[a("td",[t._v("Monthly Fee")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.price))])]),a("tr",[a("td",[t._v("No. of Months")]),a("td",{staticStyle:{width:"30px"},attrs:{align:"right"}},[a("q-input",{ref:"input_months_of_advertisment",attrs:{type:"number",min:"1"},on:{blur:function(e){return t.months_of_advertisment_change()}},model:{value:t.months,callback:function(e){t.months=e},expression:"months"}})],1)]),a("tr",[a("td",{attrs:{colspan:"2"}},[a("q-separator")],1)]),a("tr",[a("td",{staticClass:"text-bold"},[t._v("TOTAL")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.price*t.months))])])]),a("q-stepper-navigation",[a("q-btn",{attrs:{color:"primary",label:"Continue"},on:{click:function(){t.done2=!0,t.step=3}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(e){t.step=1}}})],1)],1),a("q-step",{attrs:{name:3,title:"Payment Option",icon:"payment",done:t.step>3}},[a("div",{attrs:{align:"left"}},[a("q-btn",{attrs:{color:"BankDeposit"==t.tab?"primary":"grey",unelevated:"",outline:"BankDeposit"!=t.tab,size:"20px",label:"bank deposit",icon:"account_balance"},on:{click:function(e){t.tab="BankDeposit"}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"OnlinePayment"==t.tab?"primary":"grey",unelevated:"",outline:"OnlinePayment"!=t.tab,size:"20px",label:"Online Payment",icon:"payment"},on:{click:function(e){t.tab="OnlinePayment"}}})],1),a("q-separator",{staticClass:"q-mt-sm q-mb-sm"}),a("div",{directives:[{name:"show",rawName:"v-show",value:"BankDeposit"==t.tab,expression:"tab=='BankDeposit'"}]},[a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("1. Deposit amount to the following BDO bank account:")]),a("br"),a("div",{staticClass:"q-pl-md q-pt-xs"},[a("b",[t._v("Account Name:")]),t._v(" Anturaz, Inc.\n                  "),a("br"),a("b",[t._v("Account Number:")]),t._v(" 1802 394 837\n                  "),a("br"),a("b",[t._v("Bank Name:")]),t._v(" Banco De Oro\n                  "),a("br"),a("b",[t._v("Amount:")]),t._v("\n                  "+t._s(t.$prettyMoney(t.months*t.price))+"\n                ")])]),a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("2. Upload deposit slip/screenshot of your payment")]),a("br"),a("div",{staticClass:"q-pl-md q-pt-xs"},[a("b",[t._v("A. Over-the-counter payments:")]),t._v(" Write you full name onto the deposit slip. Scan or take a photograph of the deposit slip\n                  "),a("br"),a("b",[t._v("B. Online Banking:")]),t._v("\n                  Take a screenshot of the successful transaction made\n                ")])]),a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("3. Wait until your payment is verified by the Anturaz Admin.")])]),a("div",{staticClass:"q-pa-sm items-right",attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",unelevated:"",label:"Pay via Bank Deposit"},on:{click:t.payViaBankDeposit}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"OnlinePayment"==t.tab,expression:"tab=='OnlinePayment'"}]},[a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("1. Select Account Type from dropdown list. These are the following")]),a("div",[a("ul",[a("li",[t._v("Visa")]),a("li",[t._v("Mastercard")]),a("li",[t._v("American Express")])])])]),a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("2. Enter Account Information")]),a("div",[a("ul",[a("li",[t._v("Card Number")]),a("li",[t._v("Card Holder")]),a("li",[t._v("Expiry Date")]),a("li",[t._v("CVV")])])])]),a("div",{staticClass:"q-pa-sm items-right",attrs:{align:"right"}},[a("AltPayNet",{attrs:{onlinePaymentResult:t.onlinePaymentResult,item:{price:t.price*t.months,description:t.months+" Month/s of Advertisment ("+t.price+"/month)"}}})],1)])],1)],1)],1)],1)],1),"For Advertisment"!=t.status?a("q-dialog",{staticClass:"full-width",attrs:{persistent:""},model:{value:t.pendingPaid,callback:function(e){t.pendingPaid=e},expression:"pendingPaid"}},[a("q-card",{staticStyle:{width:"800px","max-width":"80vw"}},[a("q-card-section",{staticClass:"row items-center"},[a("div",{staticClass:"text-h6"},[t._v("ADVERTISMENT DETAILS")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("q-separator"),a("q-card-section",{staticClass:"scroll",attrs:{align:"center"}},[a("div",{staticClass:"q-ma-sm",attrs:{align:"right"}},["Pending"==t.data[0].status?a("DepositSlipUpload",{attrs:{submitFunction:t.uploadDepositSlipResult}}):t._e(),"For Approval"==t.data[0].status?a("q-btn",{attrs:{label:"FOR APPROVAL",color:"grey","icon-right":"help_outline",flat:""}}):t._e(),"Paid"==t.data[0].status?a("q-btn",{attrs:{label:"ONGOING ADS",color:"green","icon-right":"help_outline",flat:""}}):t._e()],1),a("q-markup-table",{attrs:{flat:""}},[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("#")]),a("th",{staticClass:"text-center"},[t._v("Subscription")]),a("th",{staticClass:"text-center"},[t._v("Amount")]),a("th",{staticClass:"text-center"},[t._v("Date Ordered")]),a("th",{staticClass:"text-center"},[t._v("Date Started")]),a("th",{staticClass:"text-center"},[t._v("Date End")]),a("th",{staticClass:"text-center"},[t._v("Status")]),a("th",{staticClass:"text-center"},[t._v("Actions")])])]),a("tbody",t._l(t.data,function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-left"},[t._v(t._s(s+1))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.months)+" Month"+t._s(1==e.months?"":"s"))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.total_amount)+"PHP")]),a("td",{staticClass:"text-center"},[t._v(t._s(t.$formatDate(e.date_ordered)))]),a("td",{staticClass:"text-center"},[t._v(t._s(""==e.date_started?"-":t.$formatDate(e.date_started)))]),a("td",{staticClass:"text-center"},[t._v(t._s(""==e.date_started?"-":t.$formatDate(e.date_end)))]),"Pending"==e.status?a("td",{staticClass:"text-center text-primary"},[t._v("PENDING")]):t._e(),"For Approval"==e.status?a("td",{staticClass:"text-center text-primary"},[t._v("FOR APPROVAL")]):t._e(),"Paid"==e.status&&"upcoming"==t.$compareToCurrentDate(e.date_end)?a("td",{staticClass:"text-center text-green"},[t._v("ACTIVE")]):t._e(),"Paid"==e.status&&"past"==t.$compareToCurrentDate(e.date_end)?a("td",{staticClass:"text-center text-grey"},[t._v("EXPIRED")]):t._e(),"Rejected"==e.status?a("td",{staticClass:"text-center text-red"},[t._v("REJECTED")]):t._e(),"Cancelled"==e.status?a("td",{staticClass:"text-center text-red"},[t._v("CANCELLED")]):t._e(),a("td",{staticClass:"text-center text-primary"},["Pending"==e.status?a("q-btn",{attrs:{label:"edit",color:"primary",size:"sm",outline:""},on:{click:function(e){t.edit_advertise=!0}}}):t._e()],1)])}),0)])],1)],1)],1):t._e(),0!=t.data.length?a("q-dialog",{model:{value:t.edit_advertise,callback:function(e){t.edit_advertise=e},expression:"edit_advertise"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("ADVERTISE "+t._s(t.item_type.toUpperCase()))])]),a("q-card-section",[a("table",{attrs:{width:"100%"}},[a("tr",[a("td",[t._v("Monthly Fee")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.price))])]),a("tr",[a("td",[t._v("No. of Months")]),a("td",{staticStyle:{width:"30px"},attrs:{align:"right"}},[a("q-input",{ref:"input_months_of_advertisment",attrs:{type:"number"},on:{blur:function(e){return t.months_of_advertisment_change()}},model:{value:t.data[0].months,callback:function(e){t.$set(t.data[0],"months",e)},expression:"data[0].months"}})],1)]),a("tr",[a("td",{attrs:{colspan:"2"}},[a("q-separator")],1)]),a("tr",[a("td",{staticClass:"text-bold"},[t._v("TOTAL")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.data[0].months*t.price))])])])]),a("q-card-section",{staticClass:"q-gutter-sm"},[a("q-btn",{staticClass:"full-width",attrs:{color:"red",label:"Cancel"},on:{click:t.cancel}})],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"close",color:"primary"}})],1)],1)],1):t._e()],1)},n=[],i=(a("7514"),a("a34a")),r=a.n(i),o=(a("96cf"),a("c973")),c=a.n(o),l=a("31f2"),d=a("8961"),p={props:["related_id","item_type"],components:{AltPayNet:l["a"],DepositSlipUpload:d["a"]},data:function(){return{step:1,tab:"BankDeposit",months:1,price:499,status:"For Advertisment",data:[],forAdvertisment:!1,pendingPaid:!1,edit_advertise:!1}},methods:{onlinePaymentResult:function(){var t=c()(r.a.mark(function t(e,a){var s=this;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:null,this.$dbCon.service(this.item_type+"-advertisment").create({store_id:this.$local.getItem("store_token"),related_id:this.related_id,months:this.months,total_amount:this.price,date_ordered:new Date,date_started:new Date,date_paid:new Date,date_end:this.$addToDate(new Date,0,this.months),status:"Paid",deposit_details:a}).then(function(){var t=c()(r.a.mark(function t(e){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.$dbCon.service("store-payments").create({related_id:e._id,store_id:s.$local.getItem("store_token"),amount:s.months*s.price,date_paid:new Date,payment_for:s.item_type+" Advertisment",payment_type:"Online Payment",payment_details:a});case 2:s.forAdvertisment=!1;case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),uploadDepositSlipResult:function(){var t=c()(r.a.mark(function t(e,a,s,n,i){var o;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o={path:e,remarks:a,comments:"",date_uploaded:new Date,date_reviewed:"",reference_number:s,total_amount:n,date_deposited:i,status:"For Approval"},this.data[0].status="For Approval",this.data[0].deposit_details.push(o),t.next=5,this.$dbCon.service(this.item_type+"-advertisment").patch(this.data[0]._id,this.data[0]);case 5:this.$q.dialog({title:"Success!",message:"Deposit slip is uploaded. Your payment will be reviewed."});case 6:case"end":return t.stop()}},t,this)}));function e(e,a,s,n,i){return t.apply(this,arguments)}return e}(),payViaBankDeposit:function(){var t=this;this.$dbCon.service(this.item_type+"-advertisment").create({store_id:this.$local.getItem("store_token"),related_id:this.related_id,months:this.months,total_amount:this.price,date_ordered:new Date,date_started:"",date_paid:"",date_end:"",status:"Pending",deposit_details:[]}).then(function(){t.forAdvertisment=!1})},cancel:function(){var t=this;this.data[0].status="Cancelled",this.$dbCon.service(this.item_type+"-advertisment").patch(this.data[0]._id,this.data[0]).then(function(){t.edit_advertise=!1})},months_of_advertisment_change:function(){this.months<1&&(this.months=1),this.months=Math.round(this.months)}},mounted:function(){var t=this;this.$dbCon.service(this.item_type+"-advertisment").onDataChange(function(){t.$dbCon.service(t.item_type+"-advertisment").find({query:{$sort:{date_ordered:-1},related_id:t.related_id,$or:[{date_end:{$gte:new Date}},{date_end:""}]}}).then(function(e){0==e.data.length||"Cancelled"==e.data[0].status?t.status="For Advertisment":"Pending"==e.data[0].status?(t.status="Pending",t.data=e.data):"For Approval"==e.data[0].status?(t.status="For Approval",t.data=e.data):"Paid"==e.data[0].status&&(t.status="Paid",t.data=e.data)})})}},u=p,m=a("2877"),h=Object(m["a"])(u,s,n,!1,null,null,null);e["a"]=h.exports},8961:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{attrs:{color:"primary",label:"Upload Bank Receipt"},on:{click:function(e){t.opened=!0}}}),a("q-dialog",{model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("q-card",{staticStyle:{width:"600px"}},[a("q-card-section",{staticClass:"bg-primary"},[a("div",{staticClass:"text-h6 text-white"},[t._v("Upload Deposit Slip")])]),a("q-separator"),a("q-card-section",[a("input",{ref:"fileupload",staticClass:"hidden",attrs:{type:"file"},on:{change:t.onImageSelected}}),a("div",{staticStyle:{pointer:"cursor"}},[a("q-img",{staticStyle:{width:"100%",border:"1px solid grey"},attrs:{src:t.photoUrl,ratio:16/9},on:{click:function(e){return t.$refs.fileupload.click()}}})],1),a("q-input",{staticClass:"q-pt-sm",attrs:{outlined:"",label:"Reference Number"},model:{value:t.reference_number,callback:function(e){t.reference_number=e},expression:"reference_number"}}),a("q-input",{staticClass:"q-pt-sm",attrs:{outlined:"",type:"number",label:"Total Amount"},model:{value:t.total_amount,callback:function(e){t.total_amount=e},expression:"total_amount"}}),a("q-input",{staticClass:"q-pt-sm",attrs:{outlined:"",label:"Date Deposited",mask:"date",rules:["date"]},on:{click:function(){return t.$refs.qDateProxy.show()}},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"startDate",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{on:{input:function(){return t.$refs.startDate.hide()}},model:{value:t.date_deposited,callback:function(e){t.date_deposited=e},expression:"date_deposited"}})],1)],1)]},proxy:!0}]),model:{value:t.date_deposited,callback:function(e){t.date_deposited=e},expression:"date_deposited"}}),a("q-input",{attrs:{outlined:"",label:"Remarks",type:"textarea"},model:{value:t.remarks,callback:function(e){t.remarks=e},expression:"remarks"}})],1),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{label:"SUBMIT",color:"primary"},on:{click:t.validate}})],1)],1)],1)],1)},n=[],i=a("a34a"),r=a.n(i),o=(a("96cf"),a("c973")),c=a.n(o),l={props:{submitFunction:{type:Function}},data:function(){return{opened:!1,remarks:"",photoUrl:this.$appLink+"/statics/AddImage.png",fileSelected:{},reference_number:"",total_amount:"",date_deposited:"",data:{}}},methods:{onImageSelected:function(t){this.fileSelected={};try{this.fileSelected=t.target.files[0],this.photoUrl=URL.createObjectURL(t.target.files[0])}catch(e){this.photoUrl=this.$appLink+"/img/AddImage.png"}this.$forceUpdate()},validate:function(){var t=this;this.$q.dialog({title:"Confirmation",message:"Are you sure you want to proceed?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){t.submit()})},submit:function(){var t=c()(r.a.mark(function t(){var e;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$uploadFile(this.fileSelected);case 2:e=t.sent,this.submitFunction(e,this.remarks,this.reference_number,this.total_amount,this.date_deposited),this.opened=!1;case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},d=l,p=a("2877"),u=Object(p["a"])(d,s,n,!1,null,null,null);e["a"]=u.exports},c078:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{class:t.$q.screen.lt.md?"full-width q-mb-md":"q-mr-sm q-ml-sm",attrs:{unelevated:"",label:"BUY SLOTS",outline:"",color:"black",size:"md"},on:{click:function(e){t.opened=!0}}}),a("q-dialog",{model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("q-card",{staticStyle:{width:"600px"}},[a("q-card-section",{staticClass:"text-h6 text-white bg-primary"},[a("div",[t._v("ADD MORE ITEMS")])]),a("q-separator"),a("q-card-section",{staticClass:"row"},[a("q-markup-table",{staticStyle:{width:"100%"},attrs:{flat:""}},[a("tbody",{staticClass:"text-h4"},[a("tr",[a("th",{staticClass:"text-left"},[t._v("Qty")]),a("th",{staticClass:"text-left"},[t._v("Price/Item")]),a("th",{staticClass:"text-right"},[t._v("Cost")])]),a("tr",[a("th",{staticClass:"text-left"},[a("q-input",{staticStyle:{width:"100px"},attrs:{autofocus:"",type:"number",dense:""},on:{change:function(e){t.items=Math.floor(t.items),t.items<1&&(t.items=1)}},model:{value:t.items,callback:function(e){t.items=e},expression:"items"}})],1),a("th",{staticClass:"text-left"},[a("div",[t._v("₱"+t._s(t.price))])]),a("th",{staticClass:"text-right"},[a("b",[t._v("₱"+t._s(t.price*t.items))])])])])]),a("div",{staticClass:"q-pt-lg q-pa-md text-grey",attrs:{align:"left"}},[t._v("\n          Valid for one year from the date of purchase.\n        ")])],1),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"Cancel",color:"grey"},on:{click:function(e){t.opened=!1}}}),a("q-btn",{staticClass:"q-mr-sm",attrs:{label:"Pay now",color:"primary"},on:{click:function(e){return t.$refs.altpaynet.openAltPayNet()}}})],1)],1)],1),a("AltPayNet",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"altpaynet",attrs:{onlinePaymentResult:t.onlinePaymentResult,item:{price:t.price*t.items,description:t.months+" Month/s of Subscription ("+t.price+"/month)"}}})],1)},n=[],i=a("a34a"),r=a.n(i),o=(a("96cf"),a("c973")),c=a.n(o),l=a("31f2"),d={components:{AltPayNet:l["a"]},data:function(){return{opened:!1,step:1,items:10,price:99.75,subscriptions:[]}},methods:{onlinePaymentResult:function(){var t=c()(r.a.mark(function t(e,a){var s=this;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:null,this.$dbCon.service("item-subscriptions").create({store_id:this.$local.getItem("store_token"),months:this.months,items:this.items,total_amount:this.price,date_ordered:new Date,date_started:new Date,date_paid:new Date,date_end:this.$addToDate(new Date,0,12),status:"Paid",deposit_details:a}).then(function(){var t=c()(r.a.mark(function t(e){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.$dbCon.service("store-payments").create({related_id:e._id,store_id:s.$local.getItem("store_token"),amount:s.items*s.price,date_paid:new Date,payment_for:"Item Subscription",payment_type:"Online Payment",payment_details:a}).then(function(){s.$router.go()});case 2:s.opened=!1;case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()}},p=d,u=a("2877"),m=Object(u["a"])(p,s,n,!1,null,null,null);e["a"]=m.exports},f1ae:function(t,e,a){"use strict";var s=a("86cc"),n=a("4630");t.exports=function(t,e,a){e in t?s.f(t,e,n(0,a)):t[e]=a}}}]);