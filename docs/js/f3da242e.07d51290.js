(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["f3da242e"],{"1b02":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg-primary window-height window-width row justify-center items-center"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row"},[a("q-card",{staticClass:"q-pa-lg shadow-1",attrs:{square:"",bordered:""}},[a("q-btn",{attrs:{icon:"arrow_left",label:"home",color:"primary",flat:""},on:{click:function(t){return e.$router.push("/")}}}),a("q-card-section",{staticClass:"column items-center"},[a("img",{staticStyle:{width:"80px"},attrs:{src:e.$appLink+"/uploads/admin/sample_logo.png"}}),a("div",{staticClass:"text-h5 text-black col-12"},[e._v("Anturaz Store Owner")]),a("div",{staticClass:"text-subtitle2 text-black col-12"},[e._v("\n            Create your store\n          ")])]),0!=e.error.length?a("q-card-section",[a("q-banner",{staticClass:"bg-red text-white",attrs:{rounded:""},scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"error",color:"white"}})]},proxy:!0}],null,!1,3709320977)},[a("ul",e._l(e.error,function(t,r){return a("li",{key:r},[e._v("\n                "+e._s(t)+"\n              ")])}),0)])],1):e._e(),a("q-card-section",{staticClass:"text-black"},[a("q-input",{attrs:{label:"Email Address"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("q-input",{attrs:{label:"Password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("q-input",{attrs:{label:"Store Name"},model:{value:e.store_name,callback:function(t){e.store_name=t},expression:"store_name"}}),a("q-select",{ref:"categories",attrs:{"use-chips":"","use-input":"",multiple:"","fill-input":"","input-debounce":"0",options:e.categories_option,label:"Categories",hint:"You may select one or multiple",placeholder:e.categories_done?"search..":""},on:{filter:e.filterCategories,focus:function(){e.categories_done=!0},blur:function(){e.categories_done=!1}},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.$q.screen.lt.md&&e.categories_done,expression:"$q.screen.lt.md && categories_done"},{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"done",unelevated:"",color:"primary"},on:{click:e.$refs.categories.blur}})],1)],1)]},proxy:!0},{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("No results")])],1)]},proxy:!0}]),model:{value:e.categories,callback:function(t){e.categories=t},expression:"categories"}}),a("q-select",{attrs:{"use-chips":"","use-input":"",multiple:"","fill-input":"","input-debounce":"0",options:e.market_areas_option,label:"Market Areas",placeholder:e.market_areas_done?"search..":"",hint:"You may select one or multiple"},on:{filter:e.filterMarketPlace,focus:function(){e.market_areas_done=!0},blur:function(){e.market_areas_done=!1}},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.$q.screen.lt.md&&e.market_areas_done,expression:"$q.screen.lt.md && market_areas_done"},{name:"close-popup",rawName:"v-close-popup"}],ref:"market_areas_done",attrs:{label:"done",unelevated:"",color:"primary"}})],1)],1)]},proxy:!0},{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[e._v("No results")])],1)]},proxy:!0}]),model:{value:e.market_areas,callback:function(t){e.market_areas=t},expression:"market_areas"}})],1),a("q-card-section",{staticClass:"text-grey text-italic q-mt-md"},[a("q-checkbox",{attrs:{dense:""},model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}}),e._v("  I agree to the terms\n          and conditions\n        ")],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"Create Store"},on:{click:e.validate}})],1)],1)],1)]),a("q-dialog",{attrs:{persistent:!0},model:{value:e.creatingStoreDialog,callback:function(t){e.creatingStoreDialog=t},expression:"creatingStoreDialog"}},[a("q-card",[a("q-card-section",{attrs:{align:"center"}},[a("div",[a("q-spinner-facebook",{attrs:{color:"primary",size:"6em"}})],1)]),a("q-card-section",{attrs:{align:"center"}},[a("div",{staticClass:"text-h6"},[e._v("Please wait..")])]),a("q-card-section",{staticClass:"q-pt-none"},[e._v("We are creating your store.")])],1)],1)],1)},s=[],i=(a("28a5"),a("a34a")),n=a.n(i),o=(a("7514"),a("96cf"),a("c973")),c=a.n(o),l=a("c40a"),u={data:function(){return{email:"",password:"",store_name:"",categories:[],categories_option:[],categories_list:[],market_areas:[],market_areas_option:[],agree:!1,error:[],creatingStoreDialog:!1,market_areas_done:!1,categories_done:!1}},methods:{filterMarketPlace:function(e,t,a){var r=this;t(function(){var t=e.toLowerCase();r.market_areas_option=l["a"].filter(function(e){return e.toLowerCase().indexOf(t)>-1})})},filterCategories:function(e,t,a){var r=this;t(function(){var t=e.toLowerCase();r.categories_option=r.categories_list.filter(function(e){return e.toLowerCase().indexOf(t)>-1})})},validate:function(){var e=c()(n.a.mark(function e(){var t=this;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.error=[],""!=this.email.trim()){e.next=5;break}this.error.push("Email field is required."),e.next=12;break;case 5:return this.$q.loading.show(),e.next=8,this.$StartTemporaryAuthentication();case 8:return e.next=10,this.$dbCon.service("users").find({query:{email:this.email}}).then(function(e){console.log(e),0!=e.data.length&&t.error.push("Email Address has already taken.")});case 10:return e.next=12,this.$EndTemporaryAuthentication();case 12:if(""==this.password.trim()&&this.error.push("Password field is required."),""!=this.store_name.trim()){e.next=17;break}this.error.push("Store Name field is required."),e.next=19;break;case 17:return e.next=19,this.$dbCon.service("store").find({query:{store_name:this.store_name}}).then(function(e){0!=e.data.length&&t.error.push("Store Name has already taken.")});case 19:0==this.categories.length&&this.error.push("Categories field is required"),0==this.market_areas.length&&this.error.push("Market Areas field is required"),0==this.agree&&0==this.error.length&&this.error.push("To proceed, you must agree to the terms and conditions."),this.$q.loading.hide(),0==this.error.length&&this.submit();case 24:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),submit:function(){var e=c()(n.a.mark(function e(){var t,a;return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.creatingStoreDialog=!0,e.next=3,this.$StartTemporaryAuthentication();case 3:return e.next=5,this.$dbCon.service("store").create({store_name:this.store_name,store_details:"",logo:"",categories:this.categories,market_areas:this.market_areas,maximum_products:5,maximum_services:5,published:!1,current_step:1,business_type:"Self-Employed",mobile_number:"",landline_number:"",house_bldg_st:"",barangay_district:"",city_municipality:"",state_province:"",zip_code:"",country:"Philippines",bank_name:"",account_name:"",account_number:"",government_id:"",dti_sec_registration_number:"",dti_sec_registration_certificate:"",show_owners_details:!0,giftwrapping:{colors:["#3333ff","#ff33ff","#cdcdcd","#ff0000"],charges:{small:0,medium:0,large:0,extra_large:0}},links:{facebook:"",instagram:"",pinterest:"",youtube:"",vimeo:""},gallery:[],access:!0,unique_link:this.store_name.toLowerCase().split(" ").join("-")});case 5:return t=e.sent,a=[],e.next=9,l["a"].map(function(e){"Nationwide"!=e&&a.push({location:e,fuel_transpo:0,delivery:0})});case 9:return e.next=11,this.$dbCon.service("store-fuel-delivery").create({store_id:t._id,fuel_delivery:a});case 11:return e.next=13,this.$dbCon.service("item-subscriptions").create({store_id:t._id,items:5,status:"Free"});case 13:return e.next=15,this.$dbCon.service("gallery-subscription").create({store_id:t._id,mb:5,status:"Free"});case 15:return e.next=17,this.$dbCon.service("users").create({store_id:t._id,email:this.email,password:this.password,fname:"",lname:"",position_in_the_company:"",store_account_type:"Owner",permission:["Store Owner Management","Giftwrapping Services Management","Delivery Management","Fuel/Transpo Management","Booking Services Management","Portfolio Management","Add products/services","Delete products/services","Add/Subract Inventory","Advertise products/services","Store Management","User Management","Reports","Ratings and Reviews","Security and Privacy Setting"],system_user_type:"Store Owner",user_type:"Owner",position:"Owner",access:!0});case 17:return e.next=19,this.$dbCon.service("store-advertisment").create({store_id:t._id,subscriptions:[]});case 19:return e.next=21,this.$dbCon.service("store-schedule").create({store_id:t._id,schedules:[]});case 21:return e.next=23,this.$EndTemporaryAuthentication();case 23:this.$StoreUserLogin(this.email,this.password);case 24:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=this;this.market_areas_option=l["a"],this.$dbCon.service("categories").find({query:{$select:["category_name","classification"]}}).then(function(t){t.data.map(function(t){e.categories_option.push(t.category_name),e.categories_list.push(t.category_name)})})}},d=u,m=(a("9367"),a("2877")),p=Object(m["a"])(d,r,s,!1,null,"1a57c91f",null);t["default"]=p.exports},9367:function(e,t,a){"use strict";var r=a("9c52"),s=a.n(r);s.a},"9c52":function(e,t,a){},c40a:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var r=["Nationwide","Abra","Agusan del Norte","Agusan del Sur","Aklan","Albay","Antique","Apayao","Aurora","Basilan","Bataan","Batanes","Batangas","Benguet","Biliran","Bohol","Bukidnon","Bulacan","Cagayan","Camarines Norte","Camarines Sur","Camiguin","Capiz","Catanduanes","Cavite","Cebu","Compostela Valley","Cotabato","Davao del Norte","Davao del Sur","Davao Occidental","Davao Oriental","Dinagat Islands","Eastern Samar","Guimaras","Ifugao","Ilocos Norte","Ilocos Sur","Iloilo","Isabela","Kalinga","La Union","Laguna","Lanao del Norte","Lanao del Sur","Leyte","Maguindanao","Marinduque","Masbate","Metro Manila","Misamis Occidental","Misamis Oriental","Mountain Province","Negros Occidental","Negros Oriental","Northern Samar","Nueva Ecija","Nueva Vizcaya","Occidental Mindoro","Oriental Mindoro","Palawan","Pampanga","Pangasinan","Quezon","Quirino","Rizal","Romblon","Samar","Sarangani","Siquijor","Sorsogon","South Cotabato","Southern Leyte","Sultan Kudarat","Sulu","Surigao del Norte","Surigao del Sur","Tarlac","Tawi-Tawi","Zambales","Zamboanga del Norte","Zamboanga del Sur","Zamboanga Sibugay"]}}]);