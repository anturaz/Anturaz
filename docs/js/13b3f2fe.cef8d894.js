(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["13b3f2fe"],{"386d":function(t,e,a){"use strict";var s=a("cb7c"),r=a("83a1"),i=a("5f1b");a("214f")("search",1,function(t,e,a,n){return[function(a){var s=t(this),r=void 0==a?void 0:a[e];return void 0!==r?r.call(a,s):new RegExp(a)[e](String(s))},function(t){var e=n(a,t,this);if(e.done)return e.value;var c=s(t),o=String(this),d=c.lastIndex;r(d,0)||(c.lastIndex=0);var l=i(c,o);return r(c.lastIndex,d)||(c.lastIndex=d),null===l?-1:l.index}]})},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},adb2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-lg row"},[a("div",{staticClass:"col-12 q-pb-xl"},[a("q-breadcrumbs",{staticClass:"q-pb-md text-primary",scopedSlots:t._u([{key:"separator",fn:function(){return[a("q-icon",{attrs:{size:"1.5em",name:"chevron_right",color:"primary"}})]},proxy:!0}])},[a("q-breadcrumbs-el",{attrs:{label:"Home",icon:"home"}}),a("q-breadcrumbs-el",{attrs:{label:"Gift Registry",icon:"card_giftcard"}}),a("q-breadcrumbs-el",{attrs:{label:t.data.event_name}})],1),a("q-separator")],1),a("div",{staticClass:"col-md-2 col-sm-12 column self-center",attrs:{align:"center"}},[a("q-icon",{attrs:{name:"card_giftcard",size:"100px",color:"grey"}}),a("div",{staticClass:"text-grey text-bold"},[t._v("GIFT REGISTRY")])],1),a("div",{staticClass:"col-md-5 col-sm-12"},[a("div",{staticClass:"text-bold text-h4"},[t._v(t._s(t.data.event_name))]),a("div",{staticClass:"text-grey"},[a("b",[t._v("Groom:")]),t._v("\n      "+t._s(t.data.grooms_name)+"\n    ")]),a("div",{staticClass:"text-grey"},[a("b",[t._v("Bride:")]),t._v("\n      "+t._s(t.data.brides_name)+"\n    ")]),a("div",{staticClass:"text-grey"},[a("b",[t._v("Wedding Date:")]),t._v("\n      "+t._s(t.data.wedding_date)+"\n    ")]),a("div",{staticClass:"text-grey"},[a("b",[t._v("Shipping Address:")]),t._v("\n      "+t._s(t.data.house_bldg_st+" "+t.data.barangay_district+", "+t.data.city_municipality+", "+t.data.state_province+", "+t.data.country+" ("+t.data.zip_code+")")+"\n    ")])]),a("div",{staticClass:"col-md-5 col-sm-12 q-pr-xl column justify-between",attrs:{align:"right"}},[a("div",{staticClass:"text-grey col-1"},[a("b",[t._v("REFERENCE NUMBER:")]),t._v("\n      "+t._s(t.data.reference_number)+"\n    ")]),"Manage"==t.$route.path.split("/")[3]?a("div",{staticClass:"text-grey col-2"},[a("q-btn",{attrs:{label:this.data.published?"Unpublish":"Publish",flat:"",color:"grey"},on:{click:t.unpublish}}),a("q-btn",{attrs:{label:"delete",flat:"",color:"primary"},on:{click:t.deleteGiftRegistry}})],1):t._e()]),a("div",{staticClass:"q-pt-lg col-12"},[a("q-separator")],1),a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},t._l(t.selectedProducts,function(e){return a("q-card",{key:e._id,staticClass:"q-ma-sm",attrs:{flat:"",bordered:""}},[a("q-card-section",{staticStyle:{height:"180px",width:"200px"}},[a("q-img",{attrs:{ratio:1,src:e.photos[0]}})],1),a("q-card-section",{staticStyle:{height:"75px",width:"200px"}},["product_name"in e?a("div",{staticClass:"text-title text-bold"},[t._v(t._s(e.product_name))]):t._e(),a("div",[a("font",{staticClass:"text-bold text-primary"},[t._v(t._s(""!=e.sale_price?t.$prettyMoney(e.sale_price):t.$prettyMoney(e.regular_price)))]),""!=e.sale_price?a("font",{staticClass:"text-grey q-pl-sm"},[a("strike",[t._v(t._s(t.$prettyMoney(e.regular_price)))])],1):t._e()],1),a("div",{staticClass:"row"},[a("div",[t._v("Store:  ")]),a("div",{staticClass:"text-primary",staticStyle:{cursor:"pointer"}},[t._v("Gilbert Shop")])])]),a("q-card-section",{staticStyle:{height:"55px",width:"200px"},attrs:{align:"right"}},["Manage"==t.$route.path.split("/")[3]?a("q-btn",{attrs:{color:"grey",label:"Remove",unelevated:""},on:{click:function(a){return t.RemoveProduct(e._id)}}}):t._e(),"Manage"==t.$route.path.split("/")[3]?a("a",{attrs:{href:t.$appLink+"/ProductDetails/"+e._id,target:"_blank"}},[a("q-btn",{attrs:{color:"primary",label:"View >",unelevated:""}})],1):t._e(),"Manage"!=t.$route.path.split("/")[3]?a("q-btn",{attrs:{color:"primary",label:"View >",unelevated:""},on:{click:function(a){return t.$router.push("/ProductDetails/"+e._id)}}}):t._e()],1)],1)}),1)]),"Manage"==t.$route.path.split("/")[3]?a("q-list",{staticClass:"q-pt-md col-12",attrs:{padding:"",bordered:""}},[a("q-expansion-item",{attrs:{dense:"","dense-toggle":"","expand-separator":"",icon:"add",label:"Add Products","default-opened":""}},[a("q-card",[a("q-card-section",{staticClass:"row"},[a("q-input",{staticClass:"q-pt-md col-sm-12 col-md-2 offset-md-10",attrs:{rounded:"",outlined:"",dense:"",placeholder:"Search products","input-class":"text-right",debounce:"500"},scopedSlots:t._u([{key:"append",fn:function(){return[""===t.search?a("q-icon",{attrs:{name:"search"}}):a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:function(e){t.search=""}}})]},proxy:!0}],null,!1,3215465916),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("div",{staticClass:"q-pt-md col-12"},[a("div",{staticClass:"row"},t._l(t.products,function(e){return a("q-card",{key:e._id,staticClass:"q-ma-sm",attrs:{flat:"",bordered:""}},[a("q-card-section",{staticStyle:{height:"180px",width:"200px"}},[a("q-img",{attrs:{ratio:1,src:e.photos[0]}})],1),a("q-card-section",{staticStyle:{height:"75px",width:"200px"}},["product_name"in e?a("div",{staticClass:"text-title text-bold"},[t._v(t._s(e.product_name))]):t._e(),a("div",[a("font",{staticClass:"text-bold text-primary"},[t._v(t._s(""!=e.sale_price?t.$prettyMoney(e.sale_price):t.$prettyMoney(e.regular_price)))]),""!=e.sale_price?a("font",{staticClass:"text-grey q-pl-sm"},[a("strike",[t._v(t._s(t.$prettyMoney(e.regular_price)))])],1):t._e()],1),a("div",{staticClass:"row"},[a("div",[t._v("Store:  ")]),a("div",{staticClass:"text-primary",staticStyle:{cursor:"pointer"}},[t._v("Gilbert Shop")])])]),a("q-card-section",{staticStyle:{height:"55px",width:"200px"},attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"Add",unelevated:""},on:{click:function(a){return t.AddProduct(e._id)}}}),a("a",{attrs:{href:t.$appLink+"/ProductDetails/"+e._id,target:"_blank"}},[a("q-btn",{attrs:{color:"grey",label:"View >",unelevated:""}})],1)],1)],1)}),1)])],1)],1)],1)],1):t._e()],1)},r=[],i=(a("386d"),a("a34a")),n=a.n(i),c=(a("28a5"),a("7514"),a("96cf"),a("c973")),o=a.n(c),d=(a("6762"),a("2fdb"),{data:function(){return{data:{},search:"",products:[],selectedProducts:[]}},methods:{AddProduct:function(t){this.data.items.includes(t)||(this.data.items.push(t),this.$dbCon.service("gift-registry").patch(this.data._id,this.data))},RemoveProduct:function(t){var e=this;this.$q.dialog({title:"Confirmation",message:"Are you sure you want to remove this product to the gift registry?",cancel:!0,persistent:!0}).onOk(function(){e.data.items.splice(e.data.items.indexOf(t),1),e.$dbCon.service("gift-registry").patch(e.data._id,e.data)})},unpublish:function(){var t=this;this.$q.dialog({title:"Confirmation",message:"Are you sure you want to "+(this.data.published?"Unpublish":"Publish")+" this Gift Registry?",cancel:!0,persistent:!0}).onOk(function(){t.data.published=!t.data.published,t.$dbCon.service("gift-registry").patch(t.data._id,t.data)})},deleteGiftRegistry:function(){var t=this;this.$q.dialog({title:"Confirmation",message:"Are you sure you want to delete this Gift Registry?",cancel:!0,persistent:!0}).onOk(function(){t.data.deleted=!0,t.$dbCon.service("gift-registry").patch(t.data._id,t.data).then(function(){t.$router.push("/GiftRegistry")})})},getData:function(){var t=o()(n.a.mark(function t(){var e=this;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$dbCon.authenticate();case 2:return t.next=4,this.$dbCon.service("gift-registry").find({query:{reference_number:this.$route.params.reference_no}}).then(function(t){0==t.total?e.$router.push("/GiftRegistry"):(e.data=t.data[0],"Manage"!=e.$route.path.split("/")[3]&&void 0!=e.$route.path.split("/")[3]&&(0!=e.data.published&&1!=e.data.deleted||e.$router.push("/")))}).catch(function(t){console.log(t),e.$router.push("/GiftRegistry")});case 4:return t.next=6,this.$dbCon.service("products").find({query:{_id:{$in:this.data.items}}}).then(function(t){e.selectedProducts=t.data});case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=o()(n.a.mark(function t(){var e,a=this;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$dbCon.service("gift-registry").onDataChange(function(){a.getData()}),e={},""!=this.search.trim()&&(e["$search"]=this.search),t.next=5,this.$dbCon.service("products").find(e).then(function(t){a.products=t.data});case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),watch:{search:function(){var t=o()(n.a.mark(function t(){var e,a=this;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={},""!=this.search.trim()&&(e["$search"]=this.search),t.next=4,this.$dbCon.service("products").find({query:e}).then(function(t){a.products=t.data});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}}),l=d,u=a("2877"),p=Object(u["a"])(l,s,r,!1,null,null,null);e["default"]=p.exports}}]);