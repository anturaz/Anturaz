(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["5204b280","2d0e55b2","754177f4","392efeae","2d0c9347","2d0d3a86","2d0d362a","2d231038"],{"060d":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-form",{on:{submit:t.save,reset:t.back}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("q-card-section",{staticClass:"text-black row"},[a("div",{staticClass:"q-pb-md col row",class:t.$q.screen.lt.md?"":"q-mr-lg q-ml-lg"},[a("div",{staticClass:"col-md-2 col-sm-12 col-xs-12 flex flex-center"},[a("q-card",{staticStyle:{width:"160px",height:"160px"},style:t.photoError?"border:1px solid red":"",attrs:{flat:"",bordered:""}},[""==t.store.logo?a("q-btn",{staticStyle:{width:"100%",height:"100%"},attrs:{flat:""},on:{click:function(e){return t.$refs.uploader.click()}}},[a("q-card-section",[a("q-icon",{attrs:{name:"add",size:"50px"}}),a("div",{staticClass:"text-grey text-caption"},[t._v("\n                      Upload Store Logo\n                    ")])],1)],1):t._e(),""!=t.store.logo?a("q-btn",{staticClass:"absolute",staticStyle:{top:"1",right:"7px",transform:"translateY(20%)","z-index":"1"},attrs:{round:"",color:"primary",icon:"edit",size:"12px"},on:{click:function(e){return t.$refs.uploader.click()}}}):t._e(),""!=t.store.logo?a("img",{staticStyle:{width:"100%",border:"1px solid grey"},attrs:{src:t.store.logo,width:"100%",height:"100%"},on:{mouseover:function(e){t.photoFocus=!0},mouseleave:function(e){t.photoFocus=!1}}}):t._e()],1)],1),a("div",{staticClass:"col-md-10 col-sm-12 col-xs-12 q-pt-md",class:t.$q.screen.lt.md?"q-pt-md":"q-pl-md"},[a("div",{staticClass:"text-black text-subtitle1",attrs:{align:t.$q.screen.lt.md?"center":""}},[t._v("\n                Tell us about your store\n              ")]),a("q-editor",{staticClass:"q-mt-sm",style:t.store_details_error?"border: solid red 1px":"",attrs:{"min-height":"6rem"},on:{input:function(){return t.validateStoreDetails()}},model:{value:t.store.store_details,callback:function(e){t.$set(t.store,"store_details",e)},expression:"store.store_details"}}),t.store_details_error?t._e():a("div",{attrs:{align:"right"}},[a("small",{staticClass:"text-grey"},[t._v(t._s(t.store_details_counter)+" / 1000 words")])]),t.store_details_error?a("small",{staticClass:"text-red"},[t._v(t._s(t.store_details_error_message))]):t._e()],1)]),a("input",{ref:"uploader",staticClass:"hidden",attrs:{type:"file"},on:{change:t.fileSelected}}),a("div",{staticClass:"row",class:t.$q.screen.lt.md?"":"q-ma-lg"},[a("q-input",{staticClass:"col-xs-12",attrs:{label:"Store Name",rules:[function(t){return""!=t.trim()||"This Field is required"}],"lazy-rules":"",dense:""},model:{value:t.store.store_name,callback:function(e){t.$set(t.store,"store_name",e)},expression:"store.store_name"}}),a("q-input",{staticClass:"col-xs-12 q-mb-lg",attrs:{label:"Store Unique Link",rules:[function(t){return""!=t.trim()||"This Field is required"}],prefix:"www.anturaz.com/store/",hint:"suggestion: www.anturaz.com/store/"+t.store.store_name.toLowerCase().split(" ").join("-"),"lazy-rules":"",dense:""},model:{value:t.store.unique_link,callback:function(e){t.$set(t.store,"unique_link",e)},expression:"store.unique_link"}}),a("q-select",{ref:"categories",staticClass:"col-xs-12 q-mb-md",attrs:{rules:[function(){return 0!=t.store.categories.length||"This Field is required"}],"lazy-rules":"","use-chips":"","use-input":"",multiple:"","fill-input":"","input-debounce":"0",options:t.categories_option,label:"Categories",hint:"You may select one or multiple",placeholder:t.categories_done?"search..":"",dense:""},on:{filter:t.filterCategories,focus:function(){t.categories_done=!0},blur:function(){t.categories_done=!1}},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.$q.screen.lt.md&&t.categories_done,expression:"$q.screen.lt.md && categories_done"},{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"done",unelevated:"",color:"primary"}})],1)],1)]},proxy:!0},{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0}]),model:{value:t.store.categories,callback:function(e){t.$set(t.store,"categories",e)},expression:"store.categories"}}),a("q-select",{staticClass:"col-xs-12 q-mb-md",attrs:{"use-chips":"","use-input":"",multiple:"","fill-input":"",rules:[function(){return 0!=t.store.market_areas.length||"This Field is required"}],"lazy-rules":"","input-debounce":"0",options:t.market_areas_option,label:"Market Areas",placeholder:t.market_areas_done?"search..":"",hint:"You may select one or multiple",dense:""},on:{filter:t.filterMarketPlace,focus:function(){t.market_areas_done=!0},blur:function(){t.market_areas_done=!1}},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.$q.screen.lt.md&&t.market_areas_done,expression:"$q.screen.lt.md && market_areas_done"},{name:"close-popup",rawName:"v-close-popup"}],ref:"market_areas_done",attrs:{label:"done",unelevated:"",color:"primary"}})],1)],1)]},proxy:!0},{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0}]),model:{value:t.store.market_areas,callback:function(e){t.$set(t.store,"market_areas",e)},expression:"store.market_areas"}}),a("q-input",{staticClass:"col-xs-12",attrs:{label:"Owner/Representative's Email Address",rules:[function(t){return""!=t.trim()||"This Field is required"}],"lazy-rules":"",dense:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),a("q-input",{staticClass:"col-xs-12",attrs:{label:"Owner/Representative's First Name",rules:[function(t){return""!=t.trim()||"This Field is required"}],"lazy-rules":"",dense:""},model:{value:t.user.fname,callback:function(e){t.$set(t.user,"fname",e)},expression:"user.fname"}}),a("q-input",{staticClass:"col-xs-12",attrs:{label:"Owner/Representative's Last Name",rules:[function(t){return""!=t.trim()||"This Field is required"}],"lazy-rules":"",dense:""},model:{value:t.user.lname,callback:function(e){t.$set(t.user,"lname",e)},expression:"user.lname"}})],1)])],1)]),"/StoreOwner"!=t.$route.fullPath?a("div",{attrs:{align:"right"}},[a("q-btn",{ref:"btn_back",staticClass:"q-mr-sm",attrs:{label:"Back",color:"grey",type:"reset","no-caps":"",flat:""},on:{mouseover:function(e){t.$refs.btn_back.unelevated=!0,t.$refs.btn_back.flat=!1},mouseleave:function(e){t.$refs.btn_back.flat=!0,t.$refs.btn_back.unelevated=!1}}}),a("q-btn",{ref:"btn_save_next",attrs:{label:"Save & Next",color:"primary",type:"submit","no-caps":"",outline:""},on:{mouseover:function(e){t.$refs.btn_save_next.unelevated=!0,t.$refs.btn_save_next.outline=!1},mouseleave:function(e){t.$refs.btn_save_next.outline=!0,t.$refs.btn_save_next.unelevated=!1}}})],1):t._e()])],1)},r=[],n=(a("28a5"),a("7514"),a("a34a")),i=a.n(n),o=(a("96cf"),a("c973")),l=a.n(o),c=a("c40a"),d={data:function(){return{error:[],file:{},photoUrl:"",photoFocus:!1,photoError:!1,store_details_error:!1,store_details_error_message:"",store_details_counter:0,market_areas_option:[],categories_option:[],categories_list:[],store:{},user:{},market_areas_done:!1,categories_done:!1}},methods:{fileSelected:function(){var t=l()(i.a.mark(function t(e){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.file={},this.file=e.target.files[0],this.$q.loading.show(),t.next=5,this.$uploadFile(this.file);case 5:this.store.logo=t.sent,this.$q.loading.hide(),console.log(this.photoUrl),this.$forceUpdate(),""!=this.store.logo&&(this.photoError=!1);case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),filterMarketPlace:function(t,e,a){var s=this;e(function(){var e=t.toLowerCase();s.market_areas_option=c["a"].filter(function(t){return t.toLowerCase().indexOf(e)>-1})})},filterCategories:function(t,e,a){var s=this;e(function(){var e=t.toLowerCase();s.categories_option=s.categories_list.filter(function(t){return t.toLowerCase().indexOf(e)>-1})})},save:function(){var t=l()(i.a.mark(function t(){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("/StoreOwner"!=this.$route.fullPath&&(this.store.current_step=3),""!=this.store.logo){t.next=4;break}return this.photoError=!0,t.abrupt("return");case 4:if(this.validateStoreDetails(),!this.store_details_error){t.next=7;break}return t.abrupt("return");case 7:this.$dbCon.service("store").patch(this.store._id,this.store);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),back:function(){var t=l()(i.a.mark(function t(){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.store.current_step=1,t.next=3,this.$dbCon.service("store").patch(this.store._id,this.store);case 3:return t.next=5,this.$dbCon.service("users").patch(this.user._id,this.user);case 5:return t.next=7,this.$forceUpdate();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getData:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$dbCon.service("store").find({query:{_id:this.$local.getItem("store_token")}}).then(function(t){e.store=t.data[0],void 0!=e.store.unique_link&&""!=e.store.unique_link||(e.store.unique_link=e.store.store_name.toLowerCase().split(" ").join("-")),e.photoUrl=e.store.logo});case 2:return t.next=4,this.$getUser();case 4:this.user=t.sent;case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),validateStoreDetails:function(){if(""==this.$sanitize(this.store.store_details).trim())return this.store_details_error=!0,void(this.store_details_error_message="This field is required.");this.store_details_error=!1,this.store_details_counter=this.$wordsCount(this.$sanitize(this.store.store_details).trim()),this.store_details_counter>1e3?(this.store_details_error=!0,this.store_details_error_message="Maximum of 1000 words only."):this.store_details_error=!1}},mounted:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.market_areas_option=c["a"],this.$dbCon.service("categories").find({query:{$select:["category_name"]}}).then(function(t){t.data.map(function(t){e.categories_option.push(t.category_name),e.categories_list.push(t.category_name)})}),this.$dbCon.service("store").onDataChange(function(){e.getData()}),this.$dbCon.service("users").onDataChange(function(){e.getData()});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),watch:{"store.unique_link":function(){this.store.unique_link=this.store.unique_link.toLowerCase().split("-").join(" ").trim(),this.store.unique_link=this.store.unique_link.toLowerCase().split(" ").join("-")}}},u=d,p=a("2877"),m=Object(p["a"])(u,s,r,!1,null,null,null);e["a"]=m.exports},"0fda":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.step,expression:"step==2"}],staticClass:"col-md-12 col-sm-12 row"},[a("q-input",{ref:"inp_sku",staticClass:"col-md-12 col-xs-12 q-pt-sm",attrs:{dense:"",stack:"",label:"Stock Keeping Unit(SKU)",rules:[function(t){return""!=t.trim()||"Required"}]},model:{value:t.SKU,callback:function(e){t.SKU=e},expression:"SKU"}}),a("q-input",{ref:"inp_service_name",staticClass:"col-12 q-pt-sm",attrs:{dense:"",stack:"",label:"Service Name",maxlength:60,rules:[function(t){return""!=t.trim()||"Required"}],"lazy-rules":"",counter:""},model:{value:t.service_name,callback:function(e){t.service_name=e},expression:"service_name"}}),a("p",{staticClass:"text-title text-black"},[t._v("Description:")]),a("div",{staticClass:"col-12 q-pt-sm"},[a("q-editor",{ref:"inp_description",style:t.description_error?"border:solid red 1px":"",attrs:{"min-height":"4rem"},on:{input:function(){return t.validateDescription()}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t.description_error?t._e():a("div",{attrs:{align:"right"}},[a("small",{staticClass:"text-grey"},[t._v(t._s(t.description_counter)+" / 1000 words")])]),t.description_error?a("small",{staticClass:"text-red"},[t._v(t._s(t.description_error_message))]):t._e()],1),a("q-input",{ref:"inp_regular_price",staticClass:"col-6 q-pt-sm q-pr-sm",attrs:{dense:"",stack:"",label:"Regular Price",rules:[function(e){return t.temp_regular_price>0||"Invalid Regular Price"},function(t){return""!=t.trim()||"Required"}],"lazy-rules":""},on:{focus:t.toInputRegularPrice,blur:t.toChangeRegularPrice},model:{value:t.regular_price,callback:function(e){t.regular_price=e},expression:"regular_price"}}),a("q-input",{staticClass:"col-6 q-pt-sm q-pr-sm",attrs:{dense:"",stack:"",label:"Sale Price","error-message":"Invalid Sale Price",error:t.sale_price_error,rules:[]},on:{focus:t.toInputSalePrice,blur:t.toChangeSalePrice},model:{value:t.sale_price,callback:function(e){t.sale_price=e},expression:"sale_price"}})],1),a("input",{ref:"fileInput0",staticClass:"col-12 hidden",attrs:{type:"file",multiple:""},on:{change:t.onImageSelected0}}),a("input",{ref:"fileInput1",staticClass:"col-12 hidden",attrs:{type:"file"},on:{change:t.onImageSelected1}}),a("input",{ref:"fileInput2",staticClass:"col-12 hidden",attrs:{type:"file"},on:{change:t.onImageSelected2}}),a("input",{ref:"fileInput3",staticClass:"col-12 hidden",attrs:{type:"file"},on:{change:t.onImageSelected3}}),a("br"),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.step,expression:"step==3"}],staticClass:"row flex q-gutter-md justify-center",attrs:{align:"center"}},t._l([0,1,2,3],function(e){return a("q-card",{key:e,staticStyle:{"min-width":"154px","max-width":"154px","min-height":"152px","max-height":"152px",cursor:"pointer",overflow:"hidden"},style:t.validation[3+e]?"":"border-color:red",attrs:{flat:"",bordered:""},on:{mouseover:function(a){t.currentPic=e},mouseleave:function(e){t.currentPic=-1}}},[0==t.fileSelected[e].length?a("q-card-section",[a("br"),a("br"),a("q-btn",{attrs:{icon:"add",color:"primary",round:"",unelevated:""},on:{click:function(a){t.currentPic=-1,t.$refs["fileInput"+e].click()}}})],1):t._e(),t.currentPic==e?a("q-card-section",[a("br"),a("br"),a("q-btn",{attrs:{icon:"edit",color:"primary",round:"",unelevated:""},on:{click:function(a){t.currentPic=-1,t.$refs["fileInput"+e].click()}}}),t._v(" \n        "),a("q-btn",{attrs:{icon:"delete",color:"red",round:"",unelevated:""},on:{click:function(a){t.currentPic=-1,t.fileSelected[e]=[]}}})],1):t._e(),t.currentPic!=e?a("img",{directives:[{name:"show",rawName:"v-show",value:0!=t.fileSelected[e].length,expression:"fileSelected[i].length!=0"}],attrs:{src:t.photoUrl[e],width:"100%",height:"100%"}}):t._e()],1)}),1),a("div",{directives:[{name:"show",rawName:"v-show",value:4==t.step,expression:"step==4"}],staticClass:"col-12"},[a("div",{staticClass:"col-12 text-title text-black text-bold"},[t._v("Payment Method")]),a("div",{staticClass:"col-12 q-pt-sm row items-center"},[a("div",{staticClass:"col-11 text-title text-grey"},[t._v("Online Debit/Credit Card (default)")]),a("q-radio",{staticClass:"col-1",attrs:{active:!0,readonly:""}})],1),a("div",{staticClass:"col-12 q-pt-sm row items-center"},[a("div",{staticClass:"col-11 text-title text-grey"},[t._v("Bank Deposit/Wire Transfer (default)")]),a("q-radio",{staticClass:"col-1",attrs:{active:!0,readonly:""}})],1),a("div",{staticClass:"col-12 q-pt-sm text-title text-black text-bold"},[t._v("Other Flexible Options for Your Clients")]),a("div",{staticClass:"col-12 row items-center"},[a("div",{staticClass:"col-11 text-title text-grey"},[t._v("Enable Cash on Fulfillment?")]),a("q-checkbox",{staticClass:"col-1",model:{value:t.cof,callback:function(e){t.cof=e},expression:"cof"}})],1),a("div",{staticClass:"col-12 row items-center"},[a("div",{staticClass:"col-11 text-title text-grey"},[t._v("\n        Enable Layaway?\n        "),a("q-btn",{attrs:{color:"grey",size:"sm",round:"",flat:"",icon:"help"}},[a("q-popup-proxy",[a("q-banner",[a("div",{staticClass:"text-bold"},[t._v("What is Layaway?")]),t._v("a system of paying a deposit to secure an item for later purchase.\n            ")])],1)],1)],1),a("q-checkbox",{staticClass:"col-1",model:{value:t.lay_away,callback:function(e){t.lay_away=e},expression:"lay_away"}})],1),a("div",{staticClass:"col-12 text-title text-black text-bold"},[t._v("Others")]),a("div",{staticClass:"col-12 row items-center"},[a("div",{staticClass:"col-11 text-title text-grey"},[t._v("Require 20% downpayment upon booking if Cash on Fulfillment?")]),a("q-checkbox",{staticClass:"col-1",model:{value:t.dp_cof,callback:function(e){t.dp_cof=e},expression:"dp_cof"}})],1)])])},r=[],n=(a("7f7f"),a("6762"),a("2fdb"),a("a34a")),i=a.n(n),o=(a("7514"),a("96cf"),a("c973")),l=a.n(o),c=(a("5df3"),a("1c4c"),{props:["step","category"],data:function(){return{currentPic:-1,opened:!1,category:"",category_options:[],SKU:"",service_name:"",description:"",regular_price:"",temp_regular_price:"",sale_price:"",temp_sale_price:null,cof:!0,lay_away:!0,dp_cof:!0,fileSelected:[[],[],[],[]],photoUrl:["","","",""],validation:[],sale_price_error:!1,description_error:!1,description_error_message:"",description_counter:0}},methods:{onImageSelected0:function(t){var e=this;Array.from(t.target.files).map(function(a,s){e.photoUrl[s]=URL.createObjectURL(t.target.files[s]),e.$forceUpdate(),e.fileSelected[s]=t.target.files[s],e.$forceUpdate()})},onImageSelected1:function(t){this.photoUrl[1]=URL.createObjectURL(t.target.files[0]),this.$forceUpdate(),this.fileSelected[1]=t.target.files[0],this.$forceUpdate()},onImageSelected2:function(t){this.photoUrl[2]=URL.createObjectURL(t.target.files[0]),this.$forceUpdate(),this.fileSelected[2]=t.target.files[0],this.$forceUpdate()},onImageSelected3:function(t){this.photoUrl[3]=URL.createObjectURL(t.target.files[0]),this.$forceUpdate(),this.fileSelected[3]=t.target.files[0],this.$forceUpdate()},save:function(){var t=l()(i.a.mark(function t(){var e,a,s=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$q.loading.show(),e=[],t.next=4,this.uploadImage(this.fileSelected[0]);case 4:return e[0]=t.sent,t.next=7,this.uploadImage(this.fileSelected[1]);case 7:return e[1]=t.sent,t.next=10,this.uploadImage(this.fileSelected[2]);case 10:return e[2]=t.sent,t.next=13,this.uploadImage(this.fileSelected[3]);case 13:return e[3]=t.sent,console.log(e),t.next=17,this.$dbCon.service("service-subscriptions").find({query:{store_id:this.$local.getItem("store_token"),$or:[{date_end:{$gte:new Date},status:"Paid"},{status:"Free"}],$sort:{date_ordered:-1}}}).then(function(t){return 0==t.data.length?"":"Free"==t.data[0].status?"":"Paid"==t.data[0].status?t.data[0].date_end:void 0});case 17:a=t.sent,this.$dbCon.service("services").create({store_id:this.$local.getItem("store_token"),category:this.category,SKU:this.SKU,service_name:this.service_name,description:this.description,regular_price:this.temp_regular_price,sale_price:this.temp_sale_price,cof:this.cof,lay_away:this.lay_away,deleted:!1,photos:e,expiry:a,logs:[{event:"added",date:new Date}],createdAt:new Date}).then(function(){s.$q.loading.hide(),s.opened=!1,s.$q.dialog({title:"Success!",message:"You successfully added a service."})}),this.$EventBus.$emit("update-step",6);case 20:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),validate:function(){var t=l()(i.a.mark(function t(){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.validation=[],2!=this.step){t.next=15;break}return t.next=4,this.$refs.inp_service_name.validate();case 4:return this.validation[0]=t.sent,t.next=7,this.$refs.inp_regular_price.validate();case 7:return this.validation[1]=t.sent,t.next=10,this.$refs.inp_sku.validate();case 10:return this.validation[2]=t.sent,this.validateDescription(),this.description_error&&(this.validation[3]=!1),parseFloat(this.temp_regular_price)<=parseFloat(this.temp_sale_price)?(this.sale_price_error=!0,this.validation[4]=!1):parseFloat(this.temp_sale_price)<1?(this.sale_price_error=!0,this.validation[4]=!1):this.sale_price_error=!1,t.abrupt("return",this.validation.includes(!1));case 15:if(3!=this.step){t.next=21;break}return this.validation[3]=0!=this.fileSelected[0].length,this.validation[4]=0!=this.fileSelected[1].length,this.validation[5]=0!=this.fileSelected[2].length,this.validation[6]=0!=this.fileSelected[3].length,t.abrupt("return",this.validation.includes(!1));case 21:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),uploadImage:function(){var t=l()(i.a.mark(function t(e){var a,s;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append(this.$appLink,e,e.name),t.next=4,this.$axios.post(this.$appLink+"/uploadServices",a);case 4:return s=t.sent,t.abrupt("return",s.data);case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),toInputRegularPrice:function(){this.regular_price=this.temp_regular_price},toChangeRegularPrice:function(){this.temp_regular_price=this.regular_price,this.regular_price=this.$prettyMoney(this.regular_price)},toInputSalePrice:function(){this.sale_price=this.temp_sale_price},toChangeSalePrice:function(){this.temp_sale_price=this.sale_price,this.sale_price=this.$prettyMoney(this.sale_price)},validateDescription:function(){if(""==this.$sanitize(this.description).trim())return this.description_error=!0,void(this.description_error_message="This field is required.");this.description_error=!1,this.description_counter=this.$wordsCount(this.$sanitize(this.description).trim()),this.description_counter>1e3?(this.description_error=!0,this.description_error_message="Maximum of 1000 words only."):this.description_error=!1}},watch:{step:function(){5==this.step&&this.save()}},mounted:function(){var t=this;this.$dbCon.service("store").onDataChange(function(){t.category_options=[],t.$dbCon.service("store").get(t.$local.getItem("store_token")).then(function(e){t.$dbCon.service("categories").find({query:{category_name:{$in:e.categories},classification:"Service"}}).then(function(e){e.data.map(function(e){t.category_options.push(e.category_name)})})})})}}),d=c,u=a("2877"),p=Object(u["a"])(d,s,r,!1,null,null,null);e["a"]=p.exports},2234:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{size:"100px",square:""}},[a("img",{attrs:{ratio:1,src:t.product.photos[0]}})])],1),a("q-item-section",[a("q-item-label",{staticClass:"text-title",attrs:{lines:"1"}},[t._v(t._s(t.product.product_name))]),a("q-item-label",{attrs:{caption:"",lines:"2"}},[a("span",{staticClass:"text-weight-bold"},[t._v("Category:")]),t._v("\n        "+t._s(t.product.category)+"\n      ")]),a("q-item-label",{attrs:{caption:"",lines:"2"}},[a("span",{staticClass:"text-weight-bold"},[t._v("Date Needed:")]),t._v("\n        "+t._s(t.$formatDate_DateOnly(t.order.date_needed))+"\n      ")]),a("q-item-label",{attrs:{caption:"",lines:"2"}},[void 0!=t.order.mode_of_delivery?a("span",{staticClass:"text-weight-bold"},[t._v("Mode of Delivery:")]):t._e(),t._v("\n        "+t._s(t.order.mode_of_delivery)+"\n      ")]),null!=t.order.size&&""!=t.order.size?a("q-item-label",{attrs:{caption:"",lines:"2"}},[a("span",{staticClass:"text-weight-bold"},[t._v("Size:")]),t._v("\n        "+t._s(t.order.size)+"\n      ")]):t._e(),null!=t.order.color&&""!=t.order.color?a("q-item-label",{attrs:{caption:"",lines:"2"}},[a("span",{staticClass:"text-weight-bold"},[t._v("Color:")]),t._v("\n        "+t._s(t.order.color)+"\n      ")]):t._e(),null!=t.order.material&&""!=t.order.material?a("q-item-label",{attrs:{caption:"",lines:"2"}},[a("span",{staticClass:"text-weight-bold"},[t._v("Material:")]),t._v("\n        "+t._s(t.order.material)+"\n      ")]):t._e()],1),a("q-item-section",{attrs:{side:"",top:""}},[void 0!=t.order.order_number?a("span",{staticClass:"text-primary text-title text-bold"},[t._v("ORDER# "+t._s(t.order.order_number)+" ")]):t._e(),a("div",[a("span",{staticClass:"text-primary text-title text-bold"},[t._v(t._s(t.$prettyMoney(t.payment.total))+" ")])]),a("div",[t._v("Qty "+t._s(t.order.quantity))]),a("q-space"),a("div",[t.buttonVisible?a("q-btn",{attrs:{label:t.buttonLabel,color:"primary",unelevated:""},on:{click:t.updateFunction}}):t._e()],1)],1)],1)],1)},r=[],n=(a("7514"),{props:{order:Object,updateFunction:Function,buttonLabel:String,buttonVisible:Boolean},data:function(){return{product:{},shopper:{},payment:{}}},mounted:function(){var t=this;this.$dbCon.service("products").get(this.order.item_id).then(function(e){t.product=e}),this.$dbCon.service("users").get(this.order.shopper_id).then(function(e){t.shopper=e}),this.$dbCon.service("shopper-payments").find({query:{related_id:this.order._id}}).then(function(e){console.log(e),t.payment=e.data[0]})}}),i=n,o=a("2877"),l=Object(o["a"])(i,s,r,!1,null,null,null);e["a"]=l.exports},"2b67":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{size:"100px",square:""}},[a("img",{attrs:{ratio:1,src:t.product.photos[0]}})])],1),a("q-item-section",[a("q-item-label",{staticClass:"text-title",attrs:{lines:"1"}},[t._v(t._s(t.product.service_name))]),a("q-item-label",{attrs:{caption:"",lines:"2"}},[a("span",{staticClass:"text-weight-bold"},[t._v("Category:")]),t._v("\n        "+t._s(t.product.category)+"\n      ")]),a("q-item-label",{attrs:{caption:"",lines:"2"}},[a("span",{staticClass:"text-weight-bold"},[t._v("Date Needed:")]),t._v("\n        "+t._s(t.$formatDate_DateOnly(t.order.date_needed))+"\n      ")]),void 0!=t.order.mode_of_delivery?a("q-item-label",{attrs:{caption:"",lines:"2"}},[a("span",{staticClass:"text-weight-bold"},[t._v("Mode of Delivery:")]),t._v("\n        "+t._s(t.order.mode_of_delivery)+"\n      ")]):t._e()],1),a("q-item-section",{attrs:{side:"",top:""}},[void 0!=t.order.order_number?a("span",{staticClass:"text-primary text-title text-bold"},[t._v("RESERVATION# "+t._s(t.order.order_number)+" ")]):t._e(),a("div",[a("span",{staticClass:"text-primary text-title text-bold"},[t._v(t._s(t.$prettyMoney(t.payment.total))+" ")])]),a("div",[t._v("Qty "+t._s(t.order.quantity))]),a("q-space"),a("div",[t.buttonVisible?a("q-btn",{attrs:{label:t.buttonLabel,color:"primary",unelevated:""},on:{click:t.updateFunction}}):t._e()],1)],1)],1)],1)},r=[],n=(a("7514"),{props:{order:Object,updateFunction:Function,buttonLabel:String,buttonVisible:Boolean},data:function(){return{product:{},shopper:{},payment:{}}},mounted:function(){var t=this;this.$dbCon.service("services").get(this.order.item_id).then(function(e){t.product=e}),this.$dbCon.service("users").get(this.order.shopper_id).then(function(e){t.shopper=e}),this.$dbCon.service("shopper-payments").find({query:{related_id:this.order._id}}).then(function(e){console.log(e),t.payment=e.data[0]})}}),i=n,o=a("2877"),l=Object(o["a"])(i,s,r,!1,null,null,null);e["a"]=l.exports},"2ca6":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["/StoreOwner/PublishStore"==t.$route.path?a("q-card",{staticClass:"q-pb-md",attrs:{flat:"",align:"center"}},[a("q-card-section",{staticClass:"row"},[a("q-icon",{staticClass:"col-12",attrs:{name:"verified_user",color:"primary",size:"100px"}}),a("div",{staticClass:"col-12 text-h4 text-bold text-primary"},[t._v("₱499.00/month")]),a("div",{staticClass:"col-12 text-h5"},[t._v("Store Advertisment")]),a("div",{staticClass:"col-12 q-pt-lg",attrs:{align:"center"}},[a("div",{staticClass:"text-h6"},[a("q-icon",{attrs:{name:"check",color:"primary"}}),t._v("Store will be featured\n        ")],1),a("div",{staticClass:"text-h6"},[a("q-icon",{attrs:{name:"check",color:"primary"}}),t._v("Store will be recommended on search results\n        ")],1)])],1),"PENDING"!=t.ads_status?a("q-card-section",{staticClass:"q-pl-md-xl q-pr-md-xl row justify-center"},[a("div",{staticClass:"col-md-5 col-xs-12 q-pt-lg q-pb-lg",attrs:{align:"left"}},[a("q-btn",{attrs:{round:"",label:"1",unelevated:"",color:"grey"}}),a("span",{staticClass:"q-pl-md text-grey"},[t._v("Select Number of Months")]),a("q-separator",{staticClass:"q-mt-sm"})],1),a("div",{staticClass:"col-12"}),a("div",{staticClass:"col-md-5"},[a("table",{attrs:{width:"100%"}},[a("tr",[a("td",[t._v("Monthly Fee")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.advertise_per_month))])]),a("tr",[a("td",[t._v("No. of Months")]),a("td",{staticStyle:{width:"30px"},attrs:{align:"right"}},[a("q-input",{ref:"input_months_of_advertisment",attrs:{type:"number",min:"1"},on:{blur:function(e){return t.months_of_advertisment_change()}},model:{value:t.months_of_advertisment,callback:function(e){t.months_of_advertisment=e},expression:"months_of_advertisment"}})],1)]),a("tr",[a("td",{attrs:{colspan:"2"}},[a("q-separator")],1)]),a("tr",[a("td",{staticClass:"text-bold"},[t._v("TOTAL")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.advertise_per_month*t.months_of_advertisment))])])])]),a("div",{staticClass:"col-12"}),a("div",{staticClass:"col-md-5 col-xs-12 q-pt-lg q-pb-lg",attrs:{align:"left"}},[a("q-btn",{attrs:{round:"",label:"2",unelevated:"",color:"grey"}}),a("span",{staticClass:"q-pl-md text-grey"},[t._v("Payment")]),a("q-separator",{staticClass:"q-mt-sm"})],1),a("div",{staticClass:"col-12"}),a("div",{staticClass:"col-md-5"},[a("q-btn-group",{attrs:{rounded:""}},[a("q-btn",{class:"OnlinePayment"==t.tab?"text-white":"text-grey",attrs:{rounded:"",color:"OnlinePayment"==t.tab?"primary":"white",label:"Online Payment",icon:"payment"},on:{click:function(e){t.tab="OnlinePayment"}}}),a("q-btn",{class:"BankDeposit"==t.tab?"text-white":"text-grey",attrs:{rounded:"",color:"BankDeposit"==t.tab?"primary":"white",label:"Bank Deposit",icon:"account_balance"},on:{click:function(e){t.tab="BankDeposit"}}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"BankDeposit"==t.tab,expression:"tab=='BankDeposit'"}]},[a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("1. Deposit amount to the following BDO bank account:")]),a("br"),a("div",{staticClass:"q-pl-md q-pt-xs"},[a("b",[t._v("Account Name:")]),t._v(" Anturaz, Inc.\n              "),a("br"),a("b",[t._v("Account Number:")]),t._v(" 1802 394 837\n              "),a("br"),a("b",[t._v("Bank Name:")]),t._v(" Banco De Oro\n              "),a("br"),a("b",[t._v("Amount:")]),t._v("\n              "+t._s(t.$prettyMoney(t.advertise_per_month*t.months_of_advertisment))+"\n            ")])]),a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("2. Upload deposit slip/screenshot of your payment")]),a("br"),a("div",{staticClass:"q-pl-md q-pt-xs"},[a("b",[t._v("A. Over-the-counter payments:")]),t._v(" Write you full name onto the deposit slip. Scan or take a photograph of the deposit slip\n              "),a("br"),a("b",[t._v("B. Online Banking:")]),t._v("\n              Take a screenshot of the successful transaction made\n            ")])]),a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("3. Wait until your payment is verified by the Anturaz Admin.")])]),a("div",{staticClass:"q-pa-sm items-right",attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",unelevated:"",label:"Pay via Bank Deposit"},on:{click:t.payViaBankDeposit}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"OnlinePayment"==t.tab,expression:"tab=='OnlinePayment'"}]},[a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("1. Select Account Type from dropdown list. These are the following")]),a("div",[a("ul",[a("li",[t._v("Visa")]),a("li",[t._v("Mastercard")]),a("li",[t._v("American Express")])])])]),a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("2. Enter Account Information")]),a("div",[a("ul",[a("li",[t._v("Card Number")]),a("li",[t._v("Card Holder")]),a("li",[t._v("Expiry Date")]),a("li",[t._v("CVV")])])])]),a("div",{staticClass:"q-pa-sm items-right",attrs:{align:"right"}},[a("AltPayNet",{attrs:{onlinePaymentResult:t.onlinePaymentResult,item:{price:t.advertise_per_month*t.months_of_advertisment,description:t.months_of_advertisment+" Month/s of Advertisment ("+t.advertise_per_month+"/month)"}}})],1)])],1)]):t._e()],1):t._e(),"/StoreOwner/PublishStore"==t.$route.path&&"PENDING"==t.ads_status||"/StoreOwner"==t.$route.path?a("q-card",{attrs:{flat:"",bordered:""}},[a("q-card-section",{attrs:{align:"right"}},["NONE"==t.ads_status?a("div",[a("q-btn",{attrs:{color:"primary",label:"Advertise Store"},on:{click:function(e){t.StoreAdvertismentPlan=!0}}})],1):"PENDING"==t.ads_status?a("div",[a("DepositSlipUpload",{attrs:{submitFunction:t.uploadDepositSlipResult}})],1):t._e()]),0!=t.data.subscriptions.length?a("q-card-section",[a("q-markup-table",{attrs:{flat:""}},[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("#")]),a("th",{staticClass:"text-center"},[t._v("Subscription")]),a("th",{staticClass:"text-center"},[t._v("Amount")]),a("th",{staticClass:"text-center"},[t._v("Date Ordered")]),a("th",{staticClass:"text-center"},[t._v("Date Started")]),a("th",{staticClass:"text-center"},[t._v("Date End")]),a("th",{staticClass:"text-center"},[t._v("Status")]),a("th",{staticClass:"text-center"},[t._v("Actions")])])]),a("tbody",t._l(t.data.subscriptions,function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-left"},[t._v(t._s(s+1))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.months)+" Month"+t._s(1==e.months?"":"s"))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.total_amount)+"PHP")]),a("td",{staticClass:"text-center"},[t._v(t._s(t.$formatDate(e.date_ordered)))]),a("td",{staticClass:"text-center"},[t._v(t._s(""==e.date_started?"-":t.$formatDate(e.date_started)))]),a("td",{staticClass:"text-center"},[t._v(t._s(""==e.date_started?"-":t.$formatDate(e.date_end)))]),"Pending"==e.status?a("td",{staticClass:"text-center text-primary"},[t._v("PENDING")]):t._e(),"For Approval"==e.status?a("td",{staticClass:"text-center text-primary"},[t._v("FOR APPROVAL")]):t._e(),"Paid"==e.status&&"upcoming"==t.$compareToCurrentDate(e.date_end)?a("td",{staticClass:"text-center text-green"},[t._v("ACTIVE")]):t._e(),"Paid"==e.status&&"past"==t.$compareToCurrentDate(e.date_end)?a("td",{staticClass:"text-center text-grey"},[t._v("EXPIRED")]):t._e(),"Rejected"==e.status?a("td",{staticClass:"text-center text-red"},[t._v("REJECTED")]):t._e(),"Cancelled"==e.status?a("td",{staticClass:"text-center text-red"},[t._v("CANCELLED")]):t._e(),a("td",{staticClass:"text-center text-primary"},["Pending"==e.status?a("q-btn",{attrs:{label:"edit",color:"primary",size:"sm",outline:""},on:{click:function(e){t.edit_advertise_store=!0}}}):t._e()],1)])}),0)])],1):t._e()],1):t._e(),0!=t.data.subscriptions.length?a("q-dialog",{model:{value:t.edit_advertise_store,callback:function(e){t.edit_advertise_store=e},expression:"edit_advertise_store"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("Advertise Store")])]),a("q-card-section",[a("table",{attrs:{width:"100%"}},[a("tr",[a("td",[t._v("Monthly Fee")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.advertise_per_month))])]),a("tr",[a("td",[t._v("No. of Months")]),a("td",{staticStyle:{width:"30px"},attrs:{align:"right"}},[a("q-input",{ref:"input_months_of_advertisment",attrs:{type:"number"},on:{blur:function(e){return t.months_of_advertisment_change()}},model:{value:t.data.subscriptions[t.data.subscriptions.length-1].months,callback:function(e){t.$set(t.data.subscriptions[t.data.subscriptions.length-1],"months",e)},expression:"data.subscriptions[data.subscriptions.length-1].months"}})],1)]),a("tr",[a("td",{attrs:{colspan:"2"}},[a("q-separator")],1)]),a("tr",[a("td",{staticClass:"text-bold"},[t._v("TOTAL")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.data.subscriptions[t.data.subscriptions.length-1].months*t.advertise_per_month))])])])]),a("q-card-section",{staticClass:"q-gutter-sm"},[a("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Pay via Bank Deposit"},on:{click:t.edit}}),a("q-btn",{staticClass:"full-width",attrs:{color:"red",label:"Cancel"},on:{click:t.cancel}})],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"close",color:"primary"}})],1)],1)],1):t._e(),a("q-dialog",{staticClass:"full-width",attrs:{persistent:""},model:{value:t.StoreAdvertismentPlan,callback:function(e){t.StoreAdvertismentPlan=e},expression:"StoreAdvertismentPlan"}},[a("q-card",{staticStyle:{height:"600px",width:"800px","max-width":"80vw"}},[a("q-card-section",{staticClass:"row items-center"},[a("div",{staticClass:"text-h6"},[t._v("ADVERTISE YOUR STORE NOW!")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("q-separator"),a("q-card-section",{staticClass:"scroll",attrs:{align:"center"}},[a("q-stepper",{ref:"stepper",attrs:{flat:"",bordered:"","header-nav":"",color:"primary",animated:""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("q-step",{attrs:{name:1,title:"View Plan",icon:"remove_red_eye",done:t.step>1}},[a("q-icon",{attrs:{name:"verified_user",color:"primary",size:"100px"}}),a("div",{staticClass:"text-h4 text-bold text-primary"},[t._v("₱499.00/month")]),a("div",{staticClass:"text-h5"},[t._v("Store Advertisment")]),a("div",{staticClass:"q-pt-lg",staticStyle:{width:"500px"},attrs:{align:"left"}},[a("div",{staticClass:"text-h6"},[a("q-icon",{attrs:{name:"check",color:"primary"}}),t._v("Store will be featured\n              ")],1),a("div",{staticClass:"text-h6"},[a("q-icon",{attrs:{name:"check",color:"primary"}}),t._v("Store will be recommended on search results\n              ")],1)]),a("q-stepper-navigation",[a("q-btn",{attrs:{color:"primary",label:"Continue"},on:{click:function(){t.done1=!0,t.step=2}}})],1)],1),a("q-step",{attrs:{name:2,title:"Number of Months",icon:"calendar_today",done:t.step>2}},[a("table",{attrs:{width:"100%"}},[a("tr",[a("td",[t._v("Monthly Fee")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.advertise_per_month))])]),a("tr",[a("td",[t._v("No. of Months")]),a("td",{staticStyle:{width:"30px"},attrs:{align:"right"}},[a("q-input",{ref:"input_months_of_advertisment",attrs:{type:"number",min:"1"},on:{blur:function(e){return t.months_of_advertisment_change()}},model:{value:t.months_of_advertisment,callback:function(e){t.months_of_advertisment=e},expression:"months_of_advertisment"}})],1)]),a("tr",[a("td",{attrs:{colspan:"2"}},[a("q-separator")],1)]),a("tr",[a("td",{staticClass:"text-bold"},[t._v("TOTAL")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.advertise_per_month*t.months_of_advertisment))])])]),a("q-stepper-navigation",[a("q-btn",{attrs:{color:"primary",label:"Continue"},on:{click:function(){t.done2=!0,t.step=3}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(e){t.step=1}}})],1)],1),a("q-step",{attrs:{name:3,title:"Payment Option",icon:"payment",done:t.step>3}},[a("div",{attrs:{align:"left"}},[a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"OnlinePayment"==t.tab?"primary":"grey",unelevated:"",outline:"OnlinePayment"!=t.tab,size:"20px",label:"Online Payment",icon:"payment"},on:{click:function(e){t.tab="OnlinePayment"}}}),a("q-btn",{attrs:{color:"BankDeposit"==t.tab?"primary":"grey",unelevated:"",outline:"BankDeposit"!=t.tab,size:"20px",label:"bank deposit",icon:"account_balance"},on:{click:function(e){t.tab="BankDeposit"}}})],1),a("q-separator",{staticClass:"q-mt-sm q-mb-sm"}),a("div",{directives:[{name:"show",rawName:"v-show",value:"BankDeposit"==t.tab,expression:"tab=='BankDeposit'"}]},[a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("1. Deposit amount to the following BDO bank account:")]),a("br"),a("div",{staticClass:"q-pl-md q-pt-xs"},[a("b",[t._v("Account Name:")]),t._v(" Anturaz, Inc.\n                  "),a("br"),a("b",[t._v("Account Number:")]),t._v(" 1802 394 837\n                  "),a("br"),a("b",[t._v("Bank Name:")]),t._v(" Banco De Oro\n                  "),a("br"),a("b",[t._v("Amount:")]),t._v("\n                  "+t._s(t.$prettyMoney(t.advertise_per_month*t.months_of_advertisment))+"\n                ")])]),a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("2. Upload deposit slip/screenshot of your payment")]),a("br"),a("div",{staticClass:"q-pl-md q-pt-xs"},[a("b",[t._v("A. Over-the-counter payments:")]),t._v(" Write you full name onto the deposit slip. Scan or take a photograph of the deposit slip\n                  "),a("br"),a("b",[t._v("B. Online Banking:")]),t._v("\n                  Take a screenshot of the successful transaction made\n                ")])]),a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("3. Wait until your payment is verified by the Anturaz Admin.")])]),a("div",{staticClass:"q-pa-sm items-right",attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",unelevated:"",label:"Pay via Bank Deposit"},on:{click:t.payViaBankDeposit}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"OnlinePayment"==t.tab,expression:"tab=='OnlinePayment'"}]},[a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("1. Select Account Type from dropdown list. These are the following")]),a("div",[a("ul",[a("li",[t._v("Visa")]),a("li",[t._v("Mastercard")]),a("li",[t._v("American Express")])])])]),a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("2. Enter Account Information")]),a("div",[a("ul",[a("li",[t._v("Card Number")]),a("li",[t._v("Card Holder")]),a("li",[t._v("Expiry Date")]),a("li",[t._v("CVV")])])])]),a("div",{staticClass:"q-pa-sm items-right",attrs:{align:"right"}},[a("AltPayNet",{attrs:{onlinePaymentResult:t.onlinePaymentResult,item:{price:t.advertise_per_month*t.months_of_advertisment,description:t.months_of_advertisment+" Month/s of Advertisment ("+t.advertise_per_month+"/month)"}}})],1)])],1)],1)],1)],1)],1)],1)},r=[],n=(a("7514"),a("a34a")),i=a.n(n),o=(a("96cf"),a("c973")),l=a.n(o),c=a("31f2"),d=a("8961"),u={components:{AltPayNet:c["a"],DepositSlipUpload:d["a"]},data:function(){return{ads_status:"",step:1,tab:"OnlinePayment",months_of_advertisment:1,data:{},StoreAdvertismentPlan:!1,advertise_store:!1,advertise_per_month:499.75,edit_advertise_store:!1}},methods:{edit:function(){this.data.subscriptions[this.data.subscriptions.length-1].total_amount=this.data.subscriptions[this.data.subscriptions.length-1].months*this.advertise_per_month,this.edit_advertise_store=!1,this.$dbCon.service("store-advertisment").update(this.data._id,this.data)},cancel:function(){var t=this;this.$q.dialog({title:"Confirmation",message:"Are you sure you want to cancel this advertisment?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){t.data.subscriptions[t.data.subscriptions.length-1].status="Cancelled",t.$dbCon.service("store-advertisment").update(t.data._id,t.data)}),this.edit_advertise_store=!1},advertiseStore:function(){this.advertise_store=!0},payViaBankDeposit:function(){var t=this;this.$q.dialog({title:"Confirmation",message:"Do you want to pay fees via Bank Deposit?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){t.data.subscriptions.push({months:t.months_of_advertisment,total_amount:t.advertise_per_month,date_ordered:new Date,date_started:"",date_paid:"",status:"Pending",deposit_details:[]}),t.$dbCon.service("store-advertisment").update(t.data._id,t.data).then(function(){t.StoreAdvertismentPlan=!1})})},uploadDepositSlipResult:function(){var t=l()(i.a.mark(function t(e,a,s,r,n){var o;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o={path:e,remarks:a,comments:"",date_uploaded:new Date,date_reviewed:"",reference_number:s,total_amount:r,date_deposited:n,status:"For Approval"},this.data.subscriptions[this.data.subscriptions.length-1].status="For Approval",this.data.subscriptions[this.data.subscriptions.length-1].deposit_details.push(o),t.next=5,this.$dbCon.service("store-advertisment").patch(this.data._id,this.data);case 5:this.$q.dialog({title:"Success!",message:"Deposit slip is uploaded. Your payment will be reviewed."});case 6:case"end":return t.stop()}},t,this)}));function e(e,a,s,r,n){return t.apply(this,arguments)}return e}(),onlinePaymentResult:function(){var t=l()(i.a.mark(function t(e,a){var s=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("INFO",a),"success"!=e){t.next=10;break}return this.data.subscriptions.push({months:this.months_of_advertisment,total_amount:this.advertise_per_month,date_ordered:new Date,date_started:new Date,date_end:this.$addToDate(new Date,0,this.months_of_advertisment),status:"Paid",payment_details:a}),t.next=5,this.$dbCon.service("store-advertisment").update(this.data._id,this.data).then(function(){s.StoreAdvertismentPlan=!1});case 5:return t.next=7,this.$dbCon.service("store-payments").create({related_id:this.data.subscriptions.length-1,store_id:this.$local.getItem("store_token"),amount:this.advertise_per_month*this.months_of_advertisment,date_paid:new Date,payment_for:"Store Advertisment",payment_type:"Online Payment",payment_details:a});case 7:this.$q.dialog({title:"Payment Accepted!",message:"Your store is now Advertised. Advertistment will expire on "+this.$addToDate(new Date,0,this.months_of_advertisment)}),t.next=11;break;case 10:this.$q.dialog({title:"Payment Error!",message:"Please try again."});case 11:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),months_of_advertisment_change:function(){this.months_of_advertisment<1&&(this.months_of_advertisment=1),this.months_of_advertisment=Math.round(this.months_of_advertisment)},getData:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$dbCon.service("store-advertisment").find({query:{store_id:this.$local.getItem("store_token")}}).then(function(t){console.log(t),e.data=t.data[0]});case 2:0==this.data.subscriptions.length?(this.ads_status="NONE",this.StoreAdvertismentPlan=2==Math.floor(2*Math.random()+1)):"Pending"==this.data.subscriptions[this.data.subscriptions.length-1].status?this.ads_status="PENDING":"For Approval"==this.data.subscriptions[this.data.subscriptions.length-1].status?this.ads_status="FOR APPROVAL":"Cancelled"==this.data.subscriptions[this.data.subscriptions.length-1].status?this.ads_status="NONE":"upcoming"==this.$compareToCurrentDate(this.data.subscriptions[this.data.subscriptions.length-1].date_end)?this.ads_status="CURRENT":"current"==this.$compareToCurrentDate(this.data.subscriptions[this.data.subscriptions.length-1].date_end)?this.ads_status="CURRENT":"past"==this.$compareToCurrentDate(this.data.subscriptions[this.data.subscriptions.length-1].date_end)&&(this.ads_status="NONE",this.StoreAdvertismentPlan=2==Math.floor(2*Math.random()+1));case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$dbCon.service("store-advertisment").onDataChange(function(){e.getData()});case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},p=u,m=a("2877"),h=Object(m["a"])(p,s,r,!1,null,null,null);e["a"]=h.exports},"57c2":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md row"},[a("q-breadcrumbs",{staticClass:"col-12 text-grey"},[a("q-breadcrumbs-el",{attrs:{label:"Maintenance",icon:"widgets"}}),a("q-breadcrumbs-el",{attrs:{label:"Booking System",icon:"library_books"}})],1),a("br"),a("br"),a("br"),a("div",{staticClass:"col-12'"},[a("q-card",{attrs:{flat:""}},[a("q-card-section",{staticClass:"row q-gutter-md"},[a("q-date",{class:t.$q.screen.lt.sm?"col-11":"col-7",attrs:{landscape:"",minimal:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),""!=t.date?a("div",{staticClass:"q-gutter-md",class:t.$q.screen.lt.sm?"col-11":"col-4"},[a("div",{staticClass:"text-title"},[t._v("Set date as..")]),t.btn_fully_booked?a("q-btn",{staticClass:"full-width",attrs:{color:"primary",unelevated:"",size:"sm",label:"FULLY BOOKED"},on:{click:t.setAsFullyBooked}}):t._e(),t.btn_not_available?a("q-btn",{staticClass:"full-width",attrs:{color:"primary",unelevated:"",size:"sm",label:"NOT AVAILABLE"},on:{click:t.setAsNotAvailable}}):t._e(),t.btn_available?a("q-btn",{staticClass:"full-width",attrs:{unelevated:"",size:"sm",color:"primary",label:"AVAILABLE"},on:{click:function(e){return t.makeAvailable()}}}):t._e(),t.btn_available?a("q-btn",{staticClass:"full-width",attrs:{unelevated:"",size:"sm",color:"primary",label:"Edit"},on:{click:function(e){return t.editNotAvailable()}}}):t._e()],1):t._e()],1),a("q-card-section",[a("q-markup-table",{attrs:{flat:""}},[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Date")]),a("th",{staticClass:"text-center"},[t._v("Status")]),a("th",{staticClass:"text-center"},[t._v("Remarks")])])]),a("tbody",[0==t.data.schedules.length?a("tr",[a("td",{staticClass:"text-grey",attrs:{colspan:"3",align:"center"}},[t._v("no records found")])]):t._e(),t._l(t.data.schedules,function(e,s){return a("tr",{key:s,on:{click:function(a){t.date=t.$formatDateForPicker(e.date)}}},[a("td",{staticClass:"text-left"},[t._v(t._s(t.$formatDate_DateOnly(e.date)))]),0==e.status?a("td",{staticClass:"text-center"},[t._v("Fully Booked")]):1==e.status?a("td",{staticClass:"text-center"},[t._v("Not Available")]):t._e(),a("td",{staticClass:"text-center"},[t._v(t._s(e.remarks?e.remarks:""))])])})],2)])],1)],1)],1)],1)},r=[],n=(a("7514"),a("ac6a"),a("a34a")),i=a.n(n),o=(a("96cf"),a("c973")),l=a.n(o),c={data:function(){return{date:"",data:[],btn_fully_booked:!1,btn_not_available:!1,btn_available:!1}},methods:{setAsFullyBooked:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$q.dialog({title:"Remarks",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk(function(t){e.data.schedules.push({date:e.$formatDateFromPickerToDatabase(e.date),status:0,remarks:t}),e.date="",e.$dbCon.service("store-schedule").update(e.data._id,e.data)});case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),setAsNotAvailable:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$q.dialog({title:"Remarks",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk(function(t){e.data.schedules.push({date:e.$formatDateFromPickerToDatabase(e.date),status:1,remarks:t}),e.date="",e.$dbCon.service("store-schedule").update(e.data._id,e.data)});case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),makeAvailable:function(){var t=this;this.$q.dialog({title:"Confirmation",message:"Are you sure you want to make this date available?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){t.data.schedules.forEach(function(t,e){this.$formatDateFromPickerToDatabase(this.date)==t.date&&(this.data.schedules.splice(e,1),this.$dbCon.service("store-schedule").update(this.data._id,this.data),this.date="")},t)})},changeDate:function(){var t=!1;this.data.schedules.forEach(function(e){this.$formatDateFromPickerToDatabase(this.date)==e.date&&(t=!0)},this),t?(this.btn_fully_booked=!1,this.btn_not_available=!1,this.btn_available=!0):(this.btn_fully_booked=!0,this.btn_not_available=!0,this.btn_available=!1)},editNotAvailable:function(){this.data.schedules.forEach(function(t,e){var a=this;this.$formatDateFromPickerToDatabase(this.date)==t.date&&this.$q.dialog({title:"Remarks",prompt:{model:this.data.schedules[e].remarks,type:"text"},cancel:!0,persistent:!0}).onOk(function(t){a.data.schedules[e].remarks=t,a.$dbCon.service("store-schedule").update(a.data._id,a.data),a.date=""})},this)}},watch:{date:function(){this.changeDate()}},mounted:function(){var t=this;this.$dbCon.service("store-schedule").find({query:{store_id:this.$local.getItem("store_token")}}).then(function(e){t.data=e.data[0]})}},d=c,u=a("2877"),p=Object(u["a"])(d,s,r,!1,null,null,null);e["default"]=p.exports},"5d16":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-sm row"},[a("div",{staticClass:"col-12 row q-pa-sm justify-end"},[a("div",{staticClass:"self-center text-grey-7",class:t.$q.screen.lt.md?"col-4":"col-2"},[t._v("\n      Store Rating\n      "),a("q-badge",{attrs:{color:"primary"}},[t._v("3.0")])],1),a("div",{class:t.$q.screen.lt.md?"col-8":"col-3"},[a("q-input",{attrs:{filled:"",label:"Search",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("div",{staticClass:"q-pt-md col-12 row justify-center"},t._l(10,function(e){return a("div",{key:e,staticClass:"q-ma-sm",style:t.$q.screen.lt.md?"width: 45%;":"width: 250px ; height: 280px"},[a("q-card",{attrs:{square:"",bordered:"",flat:""}},[a("div",{staticClass:"q-pa-xs row justify-between"},[a("span",[t._v("Comments 12")]),a("div",{staticClass:"text-primary"},[a("q-icon",{attrs:{name:"message"}}),t._v("1")],1)]),a("q-separator"),a("q-img",{attrs:{src:"https://i.pinimg.com/originals/fe/50/e8/fe50e88d2422830a9573f796cc544105.jpg",ratio:16/9}}),a("div",{staticClass:"q-pa-xs"},[a("div",{staticClass:"text-right"},[t._v("SKU:123455")]),a("div",[t._v("HD Make up")]),a("div",[t._v("\n              "+t._s(t.$prettyMoney(25e3))+"\n              "),a("small",{staticClass:"text-primary q-pl-sm"},[a("strike",[t._v(t._s(t.$prettyMoney(12e3)))])],1)])]),a("q-separator"),a("div",{staticClass:"row justify-between q-pa-xs"},[a("q-rating",{attrs:{value:"3",size:"1em",max:5,color:"primary"}}),t._v("3.0\n          ")],1)],1)],1)}),0)])])},r=[],n=a("a34a"),i=a.n(n),o=(a("96cf"),a("c973")),l=a.n(o),c=(a("7514"),{data:function(){return{items:[],itemDetails:{},selectedItem:{},data:[],contacts:[],averageRating:0}},mounted:function(){var t=this;this.$dbCon.service("products").find({query:{store_id:this.$local.getItem("store_token")}}).then(function(e){e.data.map(function(e){t.selectedItem=t.items[0],t.items.push({label:e.product_name,value:e._id,type:"products",sku:e.SKU})})}),this.$dbCon.service("services").find({query:{store_id:this.$local.getItem("store_token")}}).then(function(e){e.data.map(function(e){t.selectedItem=t.items[0],t.items.push({label:e.service_name,value:e._id,type:"services",sku:e.SKU})})})},watch:{selectedItem:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$dbCon.service(this.selectedItem.type).find({query:{_id:this.selectedItem.value}}).then(function(t){e.itemDetails=t.data[0]}),this.data=[],t.next=4,this.$dbCon.service("products"==this.selectedItem.type?"product-transactions":"service-transactions").find({query:{item_id:this.selectedItem.value}}).then(function(){var t=l()(i.a.mark(function t(a){var s;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:s=0,e.averageRating=0,0!=a.total&&(e.data=a.data,e.data.map(function(){var t=l()(i.a.mark(function t(a,r){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:s++,e.averageRating+=a.rate;case 2:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()),e.averageRating=e.averageRating/s),e.$forceUpdate();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}}),d=c,u=a("2877"),p=Object(u["a"])(d,s,r,!1,null,null,null);e["default"]=p.exports},"5e66":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-breadcrumbs",{staticClass:"col-12 text-grey"},[a("q-breadcrumbs-el",{attrs:{label:"Maintenance",icon:"widgets"}}),a("q-breadcrumbs-el",{attrs:{label:"Fuel and Transportation",icon:"drive_eta"}})],1),a("br"),a("q-table",{attrs:{pagination:t.myPagination,data:t.data.fuel_delivery,columns:t.columns,filter:t.filter,"row-key":"name",flat:"",bordered:""},on:{"update:pagination":function(e){t.myPagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return t.store.market_areas.includes(e.row.location)?a("q-tr",{attrs:{props:e}},[a("q-td",{key:"province",attrs:{props:e}},[t._v(t._s(e.row.location))]),a("q-td",{key:"fuel_transporation_fee",attrs:{props:e}},[t._v(t._s(""!=e.row.fuel_transpo&&0!=e.row.fuel_transpo?t.$prettyMoney(e.row.fuel_transpo):"FREE"))]),a("q-td",{key:"edit",attrs:{props:e}},[a("q-btn",{attrs:{icon:"edit",flat:"",dense:""},on:{click:function(a){return t.editFee(e.row.__index,e.row.fuel_transpo)}}})],1)],1):t._e()}}],null,!0)})],1)},r=[],n=a("a34a"),i=a.n(n),o=(a("7514"),a("96cf"),a("c973")),l=a.n(o),c={data:function(){return{myPagination:{rowsPerPage:10},data:{},filter:"",columns:[{name:"province",label:"Province",field:"location",align:"center",style:"width:20%"},{name:"fuel_transporation_fee",label:"Fuel/Transportation Fee",field:"fuel_transpo",align:"center"},{name:"edit",label:"Edit",align:"center",style:"width:200px"}]}},methods:{editFee:function(t,e){var a=this;this.$q.dialog({title:"Edit Fuel/Transporation Charge",prompt:{model:this.data.fuel_delivery[t].fuel_transpo,type:"number"},cancel:!0}).onOk(function(e){a.$q.dialog({title:"Do you want to continue?",message:"Charges apply to all services.",cancel:!0}).onOk(function(){a.data.fuel_delivery[t].fuel_transpo=e,a.$dbCon.service("store-fuel-delivery").update(a.data._id,a.data).then(function(){a.$q.notify({message:"Successfully Updated!",position:"top-right",color:"primary",timeout:700,icon:"check"})})})})}},mounted:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$dbCon.service("store").find({query:{_id:this.$local.getItem("store_token")}}).then(function(t){e.store=t.data[0]});case 2:return t.next=4,this.$dbCon.service("store-fuel-delivery").find({query:{store_id:this.$local.getItem("store_token")}}).then(function(t){e.data=t.data[0]});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},d=c,u=a("2877"),p=Object(u["a"])(d,s,r,!1,null,null,null);e["default"]=p.exports},"653e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-9 text-right self-center q-pr-md"},[t._v(t._s(t._data[t.current_count].length))]),a("div",{staticClass:"col-3"},[a("q-btn",{attrs:{icon:"pageview",size:"lg",dense:"",flat:"",color:"grey"},on:{click:function(e){t.opened=!0}}})],1),a("q-dialog",{staticClass:"column",attrs:{"full-height":"","full-width":"",maximized:t.$q.screen.lt.md},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("q-card",{staticClass:"col-12",staticStyle:{width:"800px","max-width":"80vw"}},[a("q-bar",[a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"},on:{click:function(e){t.opened=!1}}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),a("q-card-section",[a("q-breadcrumbs",{staticClass:"text-grey"},[a("q-breadcrumbs-el",{attrs:{label:"Store",icon:"store"}}),a("q-breadcrumbs-el",{attrs:{label:"Reservations",icon:"menu_book"}})],1),a("br"),a("q-card",{staticClass:"col-12",attrs:{flat:""}},[a("q-card-section",[a("q-card",{attrs:{flat:"",bordered:""}},[a("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{attrs:{name:"Pending Payment",label:"Pending Payment"}},[a("q-badge",{attrs:{color:"primary",label:t.pendingPayment.length}})],1),a("q-tab",{attrs:{name:"To Acknowledge",label:"To Acknowledge"}},[a("q-badge",{attrs:{color:"primary",label:t.toAcknowledge.length}})],1),a("q-tab",{attrs:{name:"Status",label:"Status"}},[a("q-badge",{attrs:{color:"primary",label:t.status.length}})],1),a("q-tab",{attrs:{name:"Completed",label:"Completed"}},[a("q-badge",{attrs:{color:"primary",label:t.completed.length}})],1)],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"Pending Payment"}},t._l(t.pendingPayment,function(t){return a("q-list",{key:t._id,attrs:{bordered:""}},[a("PendingPayment",{attrs:{order:t}})],1)}),1),a("q-tab-panel",{attrs:{name:"To Acknowledge"}},t._l(t.toAcknowledge,function(t){return a("q-list",{key:t._id,attrs:{bordered:""}},[a("ToAcknowledge",{attrs:{order:t}})],1)}),1),a("q-tab-panel",{attrs:{name:"Status"}},t._l(t.status,function(t){return a("q-list",{key:t._id,attrs:{bordered:""}},[a("Status",{attrs:{order:t}})],1)}),1),a("q-tab-panel",{attrs:{name:"Completed"}},t._l(t.completed,function(t){return a("q-list",{key:t._id,attrs:{bordered:""}},[a("Status",{attrs:{order:t}})],1)}),1)],1)],1)],1)],1)],1)],1)],1)],1)},r=[],n=(a("28a5"),a("a34a")),i=a.n(n),o=(a("7514"),a("96cf"),a("c973")),l=a.n(o),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ServiceDetails",{attrs:{order:t.order,buttonVisible:!1}})],1)},d=[],u=a("2b67"),p={props:["order"],components:{ServiceDetails:u["a"]}},m=p,h=a("2877"),f=Object(h["a"])(m,c,d,!1,null,null,null),v=f.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ServiceDetails",{attrs:{order:t.order,updateFunction:t.update,buttonLabel:"Review",buttonVisible:!0}})],1)},b=[],g={props:["order"],components:{ServiceDetails:u["a"]},methods:{update:function(){var t=this;this.$q.dialog({title:"Mark as Reviewed",message:"Are you sure you want to proceed?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){t.order.status="To Acknowledge",t.order.logs.push({event:"Reviewed",date:new Date}),t.$dbCon.service("service-transactions").patch(t.order._id,t.order).then(function(){t.opened=!1})})}}},y=g,q=Object(h["a"])(y,_,b,!1,null,null,null),w=q.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ServiceDetails",{attrs:{order:t.order,updateFunction:t.update,buttonVisible:!1}})],1)},k=[],C={props:["order"],components:{ServiceDetails:u["a"]},methods:{update:function(){var t=this;this.$q.dialog({title:"Mark as Prepared",message:"Are you sure you want to proceed?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){"Shipping"==t.order.mode_of_delivery?t.order.status="For Shipping":"Pickup"==t.order.mode_of_delivery&&(t.order.status="For Pickup"),t.order.logs.push({event:"Packaged",date:new Date}),t.$dbCon.service("service-transactions").patch(t.order._id,t.order).then(function(){t.opened=!1})})}}},$=C,S=Object(h["a"])($,x,k,!1,null,null,null),P=S.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ServiceDetails",{attrs:{order:t.order,buttonVisible:!1}})],1)},A=[],O={props:["order"],components:{ServiceDetails:u["a"]},methods:{}},M=O,I=Object(h["a"])(M,D,A,!1,null,null,null),N=I.exports,E={props:["tab"],components:{PendingPayment:v,ToAcknowledge:w,Status:P,Completed:N},data:function(){return{pendingPayment:[],toAcknowledge:[],status:[],completed:[],tab:"To Acknowledge",opened:!1,current_count:""}},methods:{getData:function(){var t=l()(i.a.mark(function t(e){var a;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$dbCon.service("service-transactions").find({query:{store_id:this.$local.getItem("store_token"),status:e}});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},mounted:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.current_count=this.tab.split(" ").join(""),this.current_count=this.current_count.charAt(0).toLowerCase()+this.current_count.substring(1),this.$dbCon.service("service-transactions").onDataChange(l()(i.a.mark(function t(){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData("Pending Payment");case 2:return e.pendingPayment=t.sent,t.next=5,e.getData("For Acknowledgement");case 5:return e.toAcknowledge=t.sent,t.next=8,e.getData("To Acknowledge");case 8:return e.status=t.sent,t.next=11,e.getData("Completed");case 11:e.completed=t.sent;case 12:case"end":return t.stop()}},t)})));case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},R=E,F=Object(h["a"])(R,s,r,!1,null,null,null);e["default"]=F.exports},7225:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-9 text-right self-center q-pr-md"},[t._v(t._s(t._data[t.current_count].length))]),a("div",{staticClass:"col-3"},[a("q-btn",{attrs:{icon:"pageview",size:"lg",dense:"",flat:"",color:"grey"},on:{click:function(e){t.opened=!0}}})],1),a("q-dialog",{staticClass:"column",attrs:{"full-height":"","full-width":"",maximized:t.$q.screen.lt.md},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("q-card",{staticClass:"col-12",staticStyle:{width:"800px","max-width":"80vw"}},[a("q-bar",[a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"},on:{click:function(e){t.opened=!1}}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),a("q-card-section",[a("q-breadcrumbs",{staticClass:"text-grey"},[a("q-breadcrumbs-el",{attrs:{label:"Store",icon:"store"}}),a("q-breadcrumbs-el",{attrs:{label:"Orders",icon:"list"}})],1),a("br"),a("q-card",{staticClass:"col-12",attrs:{flat:""}},[a("q-card-section",[a("q-card",{attrs:{flat:"",bordered:""}},[a("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{attrs:{name:"Pending Payment",label:"Pending Payment"}},[a("q-badge",{attrs:{color:"primary",label:t.pendingPayment.length}})],1),a("q-tab",{attrs:{name:"For Acknowledgement",label:"For Acknowledgement"}},[a("q-badge",{attrs:{color:"primary",label:t.forAcknowledgement.length}})],1),a("q-tab",{attrs:{name:"For Packaging",label:"For Packaging"}},[a("q-badge",{attrs:{color:"primary",label:t.forPackaging.length}})],1),a("q-tab",{attrs:{name:"For Shipping",label:"For Shipping"}},[a("q-badge",{attrs:{color:"primary",label:t.forShipping.length}})],1),a("q-tab",{attrs:{name:"For Pickup",label:"For Pickup"}},[a("q-badge",{attrs:{color:"primary",label:t.forPickup.length}})],1),a("q-tab",{attrs:{name:"Completed",label:"Completed"}},[a("q-badge",{attrs:{color:"primary",label:t.completed.length}})],1)],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"Pending Payment"}},t._l(t.pendingPayment,function(t){return a("q-list",{key:t._id,attrs:{bordered:""}},[a("PendingPayment",{attrs:{order:t}})],1)}),1),a("q-tab-panel",{attrs:{name:"For Acknowledgement"}},t._l(t.forAcknowledgement,function(t){return a("q-list",{key:t._id,attrs:{bordered:""}},[a("ForAcknowledgement",{attrs:{order:t}})],1)}),1),a("q-tab-panel",{attrs:{name:"For Packaging"}},t._l(t.forPackaging,function(t){return a("q-list",{key:t._id,attrs:{bordered:""}},[a("ForPackaging",{attrs:{order:t}})],1)}),1),a("q-tab-panel",{attrs:{name:"For Shipping"}},t._l(t.forShipping,function(t){return a("q-list",{key:t._id,attrs:{bordered:""}},[a("ForShipping",{attrs:{order:t}})],1)}),1),a("q-tab-panel",{attrs:{name:"For Pickup"}},t._l(t.forPickup,function(t){return a("q-list",{key:t._id,attrs:{bordered:""}},[a("ForPickup",{attrs:{order:t}})],1)}),1),a("q-tab-panel",{attrs:{name:"Completed"}},t._l(t.completed,function(t){return a("q-list",{key:t._id,attrs:{bordered:""}},[a("ForPickup",{attrs:{order:t}})],1)}),1)],1)],1)],1)],1)],1)],1)],1)],1)},r=[],n=(a("28a5"),a("a34a")),i=a.n(n),o=(a("7514"),a("96cf"),a("c973")),l=a.n(o),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ProductDetails",{attrs:{order:t.order,buttonVisible:!1}})],1)},d=[],u=a("2234"),p={props:["order"],components:{ProductDetails:u["a"]}},m=p,h=a("2877"),f=Object(h["a"])(m,c,d,!1,null,null,null),v=f.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ProductDetails",{attrs:{order:t.order,buttonLabel:"Acknowledge",buttonVisible:!0,updateFunction:t.update}})],1)},b=[],g={props:["order"],components:{ProductDetails:u["a"]},methods:{update:function(){var t=this;this.$q.dialog({title:"Mark as Acknowledged",message:"Are you sure you want to proceed?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){t.order.status="For Packaging",t.order.logs.push({event:"Acknowledged",date:new Date}),t.$dbCon.service("product-transactions").patch(t.order._id,t.order).then(function(){t.opened=!1})})}}},y=g,q=Object(h["a"])(y,_,b,!1,null,null,null),w=q.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ProductDetails",{attrs:{order:t.order,buttonLabel:"Package",buttonVisible:!0,updateFunction:t.update}})],1)},k=[],C={props:["order"],components:{ProductDetails:u["a"]},methods:{update:function(){var t=this;this.$q.dialog({title:"Mark as Packaged",message:"Are you sure you want to proceed?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){"Shipping"==t.order.mode_of_delivery?t.order.status="For Shipping":"Pickup"==t.order.mode_of_delivery&&(t.order.status="For Pickup"),t.order.logs.push({event:"Packaged",date:new Date}),t.$dbCon.service("product-transactions").patch(t.order._id,t.order).then(function(){t.opened=!1})})}}},$=C,S=Object(h["a"])($,x,k,!1,null,null,null),P=S.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ProductDetails",{attrs:{order:t.order,buttonLabel:"SHIP OUT",buttonVisible:!0,updateFunction:function(){t.opened=!0}}}),a("q-dialog",{model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("q-card",{staticStyle:{width:"600px"}},[a("q-card-section",{staticClass:"text-h6 text-white bg-primary"},[a("div",[t._v("Shipping Information")])]),a("q-separator"),a("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"70vh"}},[a("q-input",{staticClass:"q-pa-sm",attrs:{outlined:"",label:"Tracking Number"},model:{value:t.tracking_number,callback:function(e){t.tracking_number=e},expression:"tracking_number"}}),a("q-input",{staticClass:"q-pa-sm",attrs:{outlined:"",label:"Courier"},model:{value:t.courier,callback:function(e){t.courier=e},expression:"courier"}}),a("q-input",{staticClass:"q-pa-sm",attrs:{outlined:"",label:"Estimated Time of Arrival",type:"textarea"},model:{value:t.eta,callback:function(e){t.eta=e},expression:"eta"}})],1),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"Cancel",color:"grey"},on:{click:function(e){t.opened=!1}}}),a("q-btn",{attrs:{flat:"",label:"Submit",color:"primary"},on:{click:t.update}})],1)],1)],1)],1)},A=[],O={props:["order"],components:{ProductDetails:u["a"]},data:function(){return{opened:!1,tracking_number:"",courier:"",eta:""}},methods:{update:function(){var t=this;this.$q.dialog({title:"Mark as Ship out",message:"Are you sure you want to proceed?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){t.order.status="For Receiving",t.order.shipping_details={tracking_number:t.tracking_number,courier:t.courier,eta:t.eta},t.order.logs.push({event:"Ship-out",date:new Date}),t.$dbCon.service("product-transactions").patch(t.order._id,t.order).then(function(){t.opened=!1})})}}},M=O,I=Object(h["a"])(M,D,A,!1,null,null,null),N=I.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ProductDetails",{attrs:{order:t.order,buttonLabel:"Pickup",buttonVisible:!0,updateFunction:t.update}})],1)},R=[],F={props:["order"],components:{ProductDetails:u["a"]},methods:{update:function(){var t=this;this.$q.dialog({title:"Mark as Picked Up",message:"Are you sure you want to proceed?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){t.order.status="For Rating",t.order.logs.push({event:"Picked up",date:new Date}),t.order.logs.push({event:"Received",date:new Date}),t.$dbCon.service("product-transactions").patch(t.order._id,t.order).then(function(){t.opened=!1})})}}},T=F,U=Object(h["a"])(T,E,R,!1,null,null,null),L=U.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ProductDetails",{attrs:{order:t.order,buttonVisible:!1}})],1)},z=[],j={props:["order"],components:{ProductDetails:u["a"]},methods:{}},V=j,Y=Object(h["a"])(V,B,z,!1,null,null,null),G=Y.exports,K={props:["tab"],components:{PendingPayment:v,ForAcknowledgement:w,ForPackaging:P,ForShipping:N,ForPickup:L,Completed:G},data:function(){return{pendingPayment:[],forAcknowledgement:[],forPackaging:[],forShipping:[],forPickup:[],completed:[],opened:!1,current_count:""}},methods:{getOrder:function(){var t=l()(i.a.mark(function t(e){var a;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$dbCon.service("product-transactions").find({query:{store_id:this.$local.getItem("store_token"),status:e}});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},mounted:function(){var t=this;this.current_count=this.tab.split(" ").join(""),this.current_count=this.current_count.charAt(0).toLowerCase()+this.current_count.substring(1),this.$dbCon.service("product-transactions").onDataChange(l()(i.a.mark(function e(){return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getOrder("Pending Payment");case 2:return t.pendingPayment=e.sent,e.next=5,t.getOrder("For Acknowledgement");case 5:return t.forAcknowledgement=e.sent,e.next=8,t.getOrder("For Packaging");case 8:return t.forPackaging=e.sent,e.next=11,t.getOrder("For Shipping");case 11:return t.forShipping=e.sent,e.next=14,t.getOrder("For Pickup");case 14:return t.forPickup=e.sent,e.next=17,t.getOrder("Completed");case 17:t.completed=e.sent;case 18:case"end":return e.stop()}},e)})))}},W=K,H=Object(h["a"])(W,s,r,!1,null,null,null);e["default"]=H.exports},"93ac":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-xs-12"},[a("SocialMediaLinks")],1),a("br"),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"uploader",attrs:{type:"file",multiple:""},on:{change:t.onImageSelected}}),a("div",{staticClass:"col-md-8 col-xs-12"},[a("q-card",{class:t.$q.screen.lt.md?"q-mt-md":"q-ml-md",attrs:{bordered:"",flat:""}},[a("q-card-section",[a("div",[a("b",[t._v("Available:")]),t._v("\n          "+t._s((t.total_storage-t.compute_used).toFixed(2))+" MB  \n          "),a("b",[t._v("Used:")]),t._v("\n          "+t._s(t.compute_used)+" MB  \n          "),a("b",[t._v("Total:")]),t._v("\n          "+t._s(t.total_storage.toFixed(2))+" MB\n        ")]),t.compute_used==t.total_storage&&.5==t.total_storage?a("div",[t._v("You have consumed your free 5MB storage.")]):t._e(),a("q-linear-progress",{staticStyle:{height:"10px"},attrs:{stripe:"",value:t.compute_used/t.total_storage}})],1),a("q-card-section",{staticClass:"row justify-end"},[a("AvailStorageSpace",{class:t.$q.screen.lt.md?"full-width q-pb-sm":""}),t.isDeletingMultiple?t._e():a("q-btn",{class:t.$q.screen.lt.md?"full-width":"",attrs:{label:"Delete Multiple",color:"grey",unelevated:"",disable:0==t.store.gallery.length},on:{click:function(e){t.isDeletingMultiple=!0}}}),t.isDeletingMultiple?a("q-btn",{class:t.$q.screen.lt.md?"full-width":"",attrs:{label:"Delete All Selected",color:"red",disable:0==t.store.gallery.length,unelevated:""},on:{click:function(e){t.isDeletingMultiple=!1,t.deleteMultiple()}}}):t._e()],1),a("q-card-section",{staticClass:"flex q-gutter-sm",class:t.$q.screen.lt.md?"justify-center":"justify-left"},[a("q-card",{staticStyle:{width:"130px",height:"130px"},attrs:{flat:"",bordered:""}},[a("q-btn",{staticStyle:{width:"100%",height:"100%"},attrs:{flat:""},on:{click:function(e){t.upload=!0}}},[a("q-card-section",[a("q-icon",{attrs:{name:"add",size:"50px"}})],1)],1)],1),t._l(t.store.gallery,function(e,s){return a("div",{key:s},["image"==e.type?a("q-card",{staticStyle:{width:"130px",height:"130px"},attrs:{flat:"",bordered:""}},[a("q-btn",{staticStyle:{width:"100%",height:"100%"},attrs:{flat:""},on:{click:function(a){t.isDeletingMultiple?t.selectToDelete(e):t.viewImage(e,s)}}},[t.isDeletingMultiple?a("q-checkbox",{staticClass:"absolute bg-white",staticStyle:{top:"10px",right:"4px",transform:"translateY(-20%)","z-index":"1"},attrs:{value:t.toDelete.includes(e)},nativeOn:{click:function(a){t.isDeletingMultiple?t.selectToDelete(e):t.viewImage(e,s)}}}):t._e(),t.isDeletingMultiple?t._e():a("q-icon",{staticClass:"absolute bg-white round-border",staticStyle:{top:"10px",right:"4px",transform:"translateY(-20%)","z-index":"1"},attrs:{name:"image",size:"30px",color:"grey"}}),a("img",{staticClass:"col",staticStyle:{height:"15vh",border:"1px solid grey"},attrs:{src:e.name}})],1)],1):t._e(),"video link"==e.type?a("q-card",{staticStyle:{width:"130px",height:"130px"},attrs:{flat:"",bordered:""}},[a("q-btn",{staticStyle:{width:"100%",height:"100%"},attrs:{flat:""},nativeOn:{click:function(a){t.isDeletingMultiple?t.selectToDelete(e):t.viewVideo(e,s)}}},[t.isDeletingMultiple?a("q-checkbox",{staticClass:"absolute bg-white",staticStyle:{top:"10px",right:"4px",transform:"translateY(-20%)","z-index":"1"},attrs:{value:t.toDelete.includes(e)},nativeOn:{click:function(a){t.isDeletingMultiple?t.selectToDelete(e):t.viewVideo(e,s)}}}):t._e(),t.isDeletingMultiple?t._e():a("q-icon",{staticClass:"absolute bg-white round-border",staticStyle:{top:"10px",right:"4px",transform:"translateY(-20%)","z-index":"1"},attrs:{name:"arrow_right",size:"30px",color:"grey"}}),a("q-img",{staticClass:"col",attrs:{src:"https://img.youtube.com/vi/"+t.getYTID(e.link)+"/maxresdefault.jpg",ratio:1}})],1)],1):t._e()],1)})],2)],1)],1),a("q-dialog",{model:{value:t.viewImg,callback:function(e){t.viewImg=e},expression:"viewImg"}},[a("q-card",{staticStyle:{width:"300px"}},[a("q-img",{attrs:{src:t.current_image.name}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"absolute",staticStyle:{top:"-19",right:"0px",transform:"translateY(-1%)"},attrs:{flat:"",icon:"close"}}),a("q-card-section",[a("q-btn",{staticClass:"absolute",staticStyle:{top:"0",right:"12px",transform:"translateY(-50%)"},attrs:{fab:"",color:"red",icon:"delete"},on:{click:function(e){return t.deleteImage()}}}),a("div",{staticClass:"row no-wrap items-center"},[a("div",{staticClass:"col text-h7 ellipsis q-pt-md"},[t._v(t._s(t.$formatDate(t.current_image.createdAt)))]),a("div",{staticClass:"col-auto text-grey q-pt-md"},[a("q-icon",{attrs:{name:"storage"}}),t._v("\n            "+t._s(t.current_image.size)+" MB\n          ")],1)]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col-12 full-width q-mt-lg",attrs:{dense:"",outline:"",label:"close"}})],1)],1)],1),a("q-dialog",{model:{value:t.viewVid,callback:function(e){t.viewVid=e},expression:"viewVid"}},[a("q-card",[t.viewVid?a("q-video",{attrs:{src:"https://www.youtube.com/embed/"+t.getYTID(t.current_video.link)}}):t._e(),a("q-card-section",[a("q-btn",{staticClass:"absolute",staticStyle:{top:"0",right:"12px",transform:"translateY(-50%)"},attrs:{fab:"",color:"red",icon:"delete"},on:{click:t.deleteVideoLink}}),a("div",{staticClass:"row no-wrap items-center"},[a("div",{staticClass:"col text-h7 ellipsis q-pt-md"},[t._v(t._s(t.$formatDate(t.current_video.createdAt)))]),a("div",{staticClass:"col-auto text-grey q-pt-md"},[a("q-icon",{attrs:{name:"storage"}}),t._v("\n            "+t._s(t.current_video.size)+" MB\n          ")],1)]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col-12 full-width q-mt-lg",attrs:{dense:"",outline:"",label:"close"}})],1)],1)],1),a("q-dialog",{model:{value:t.upload,callback:function(e){t.upload=e},expression:"upload"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center no-wrap"},[a("q-list",{staticStyle:{width:"100%"},attrs:{separator:"",bordered:""}},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){t.$refs.uploader.click(),t.upload=!1}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-btn",{attrs:{flat:"",round:"",icon:"insert_photo"}})],1),a("q-item-section",[t._v("Upload Picture")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){t.addVideoLink(),t.upload=!1}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-btn",{attrs:{flat:"",round:"",icon:"link"}})],1),a("q-item-section",{staticStyle:{color:"primary"}},[t._v("Add Youtube Video Link")]),a("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"hiddenLink",attrs:{href:"https://"+t.current_link,target:"_blank"}})],1)],1)],1)],1)],1)],1)},r=[],n=(a("7514"),a("4917"),a("28a5"),a("ac6a"),a("20d6"),a("6762"),a("2fdb"),a("a34a")),i=a.n(n),o=(a("96cf"),a("c973")),l=a.n(o),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"text-h6 text-black"},[t._v("Add your store social media page or channel")]),a("q-list",{attrs:{bordered:""}},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.editLink("facebook",t.store.links.facebook)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{square:""}},[a("img",{attrs:{src:t.$appLink+"/statics/facebook-logo.jpg"}})])],1),a("q-item-section",[t._v("\n        Facebook\n        "),a("br"),""!=t.store.links.facebook.trim()?a("small",[t._v(t._s(t.store.links.facebook))]):a("small",{staticClass:"text-grey"},[t._v("click here to add link")])])],1),a("q-separator"),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.editLink("instagram",t.store.links.instagram)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{square:""}},[a("img",{attrs:{src:t.$appLink+"/statics/instagram-logo.jpg"}})])],1),a("q-item-section",[t._v("\n        Instagram\n        "),a("br"),""!=t.store.links.instagram.trim()?a("small",[t._v(t._s(t.store.links.instagram))]):a("small",{staticClass:"text-grey"},[t._v("click here to add link")])])],1),a("q-separator"),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.editLink("pinterest",t.store.links.pinterest)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{square:""}},[a("img",{attrs:{src:t.$appLink+"/statics/pinterest-logo.jpg"}})])],1),a("q-item-section",[t._v("\n        Pinterest\n        "),a("br"),""!=t.store.links.pinterest.trim()?a("small",[t._v(t._s(t.store.links.pinterest))]):a("small",{staticClass:"text-grey"},[t._v("click here to add link")])])],1),a("q-separator"),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.editLink("youtube",t.store.links.youtube)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{square:""}},[a("img",{attrs:{src:t.$appLink+"/statics/youtube-logo.jpg"}})])],1),a("q-item-section",[t._v("\n        Youtube\n        "),a("br"),""!=t.store.links.youtube.trim()?a("small",[t._v(t._s(t.store.links.youtube))]):a("small",{staticClass:"text-grey"},[t._v("click here to add link")])])],1),a("q-separator"),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.editLink("vimeo",t.store.links.vimeo)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{square:""}},[a("img",{attrs:{src:t.$appLink+"/statics/vimeo-logo.jpg"}})])],1),a("q-item-section",[t._v("\n        Vimeo\n        "),a("br"),""!=t.store.links.vimeo.trim()?a("small",[t._v(t._s(t.store.links.vimeo))]):a("small",{staticClass:"text-grey"},[t._v("click here to add link")])])],1)],1),a("q-dialog",{model:{value:t.modifyLink,callback:function(e){t.modifyLink=e},expression:"modifyLink"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center no-wrap"},[a("q-list",{staticStyle:{width:"100%"},attrs:{separator:"",bordered:""}},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.modifyLinkDialog()}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-btn",{attrs:{flat:"",round:"",icon:"edit"}})],1),a("q-item-section",[t._v("Modify Link")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.$refs.hiddenLink.click()}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-btn",{attrs:{flat:"",round:"",icon:"remove_red_eye",color:"primary"}})],1),a("q-item-section",{staticStyle:{color:"primary"}},[t._v("View Link")]),a("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"hiddenLink",attrs:{href:"https://"+t.current_link,target:"_blank"}})],1)],1)],1)],1)],1)],1)},d=[],u=(a("a481"),{data:function(){return{store:{},current_link:"",current_type:"",modifyLink:!1}},methods:{getData:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$dbCon.service("store").find({query:{_id:this.$local.getItem("store_token")}}).then(function(t){e.store=t.data[0]});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),modifyLinkDialog:function(){var t=this;this.$q.dialog({title:(""==this.current_link.trim()?"Add":"Modify")+" link",prompt:{model:this.current_link},cancel:!0,persistent:!0}).onOk(function(e){var a="";"facebook"==t.current_type?a="^(https?://)?(www.facebook.com|facebook.com|m.facebook.com|fb.com|m.fb.com)/.+$":"instagram"==t.current_type?a="^(https?://)?(www.instagram.com|instagram.com|m.instagram.com|ig.com|m.ig.com)/.+$":"pinterest"==t.current_type?a="^(https?://)?(www.pinterest.com|pinterest.com|m.pinterest.com)/.+$":"youtube"==t.current_type?a="^(https?://)?(www.youtube.com|youtube.com|m.youtube.com)/.+$":"vimeo"==t.current_type&&(a="^(https?://)?(www.vimeo.com|vimeo.com|m.vimeo.com)/.+$"),e.trim().match(a)?(t.modifyLink=!1,t.store.links[t.current_type]=e.trim().replace("https://","").replace("http://",""),t.$dbCon.service("store").patch(t.$local.getItem("store_token"),t.store).then(function(){t.$q.notify({message:"Successfully Updated!",position:"top-right",color:"primary",timeout:700,icon:"check"})})):t.$q.dialog({title:"The link was not a valid "+t.current_type[0].toUpperCase()+t.current_type.substring(1,t.current_type.length)+" link",message:"Please input valid "+t.current_type[0].toUpperCase()+t.current_type.substring(1,t.current_type.length)+" link to proceed."})})},isUrl:function(t){var e=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return!!e.test(t)},editLink:function(t,e){this.current_link=e,this.current_type=t,""==e.trim()?this.modifyLinkDialog():this.modifyLink=!0}},mounted:function(){var t=this;this.$dbCon.service("store").onDataChange(function(){t.getData()})}}),p=u,m=a("2877"),h=Object(m["a"])(p,c,d,!1,null,null,null),f=h.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{staticClass:"q-mr-sm",class:t.$q.screen.lt.md?"full-width":"",attrs:{label:"Add Storage",unelevated:"",color:"primary"},on:{click:function(e){t.opened=!0}}}),a("q-dialog",{model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("q-card",{staticStyle:{width:"600px"}},[a("q-card-section",{staticClass:"text-h6 text-white bg-primary"},[a("div",[t._v("Add portfolio storage")])]),a("q-separator"),a("q-card-section",{staticClass:"row"},[a("q-markup-table",{staticStyle:{width:"100%"},attrs:{flat:""}},[a("tbody",{staticClass:"text-h4"},[a("tr",[a("th",{staticClass:"text-left text-bold"},[a("b",[t._v("Size")])]),a("th",{staticClass:"text-left text-bold"},[a("b",[t._v("Price/MB")])]),a("th",{staticClass:"text-right text-bold"},[a("b",[t._v("Cost")])])]),a("tr",[a("th",{staticClass:"text-left"},[a("q-input",{staticStyle:{width:"100px"},attrs:{autofocus:"",type:"number",min:"10",dense:""},on:{change:function(e){t.mb=Math.floor(t.mb),t.mb<10&&(t.mb=10)}},model:{value:t.mb,callback:function(e){t.mb=e},expression:"mb"}})],1),a("th",{staticClass:"text-left"},[a("div",[t._v(t._s(t.$prettyMoney(t.rate)))])]),a("th",{staticClass:"text-right"},[t._v(t._s(t.$prettyMoney(t.rate*t.mb)))])])])]),a("div",{staticClass:"q-pt-lg q-pa-md text-grey",attrs:{align:"left"}},[t._v("Minimum purchase is 10MB. Valid for one year from the date of purchase.")])],1),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{ref:"btn_back",attrs:{label:"Cancel",color:"grey","no-caps":"",flat:""},on:{click:function(e){t.opened=!1},mouseover:function(e){t.$refs.btn_back.unelevated=!0,t.$refs.btn_back.flat=!1},mouseleave:function(e){t.$refs.btn_back.flat=!0,t.$refs.btn_back.unelevated=!1}}}),a("q-btn",{ref:"btn_save_next",staticClass:"q-mr-sm",attrs:{label:"Pay now",color:"primary","no-caps":"",outline:""},on:{click:function(e){return t.$refs.altpaynet.openAltPayNet()},mouseover:function(e){t.$refs.btn_save_next.unelevated=!0,t.$refs.btn_save_next.outline=!1},mouseleave:function(e){t.$refs.btn_save_next.outline=!0,t.$refs.btn_save_next.unelevated=!1}}})],1)],1)],1),a("AltPayNet",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"altpaynet",attrs:{onlinePaymentResult:t.onlinePaymentResult,item:{price:t.rate*t.mb,description:"Storage Subscription: 1MB/PHP1.00/Year"}}})],1)},b=[],g=a("31f2"),y={components:{AltPayNet:g["a"]},data:function(){return{opened:!1,rate:5,mb:10}},methods:{onlinePaymentResult:function(){var t=l()(i.a.mark(function t(e,a){var s=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$dbCon.service("gallery-subscription").create({store_id:this.$local.getItem("store_token"),mb:this.mb,total_amount:this.price,date_started:new Date,date_paid:new Date,date_end:this.$addToDate(new Date,0,12),status:"Paid",deposit_details:e}).then(function(){s.opened=!1,s.$q.dialog({title:"Success!",message:"You have successfully availed extra storage space."})});case 1:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()}},q=y,w=Object(m["a"])(q,v,b,!1,null,null,null),x=w.exports,k={components:{AvailStorageSpace:x,SocialMediaLinks:f},data:function(){return{store:[],current_image:{},current_video:{},current_index:0,total_storage:0,viewImg:!1,viewVid:!1,modifyLink:!1,upload:!1,current_link:"",toDelete:[],isDeletingMultiple:!1}},methods:{onlinePaymentResult:function(){var t=l()(i.a.mark(function t(e,a){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log(e);case 1:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),viewImage:function(t,e){this.current_image=t,this.current_index=e,this.viewImg=!0},viewVideo:function(t,e){this.current_video=t,this.current_index=e,this.viewVid=!0},selectToDelete:function(t){this.toDelete.includes(t)?this.toDelete.splice(_.findIndex(this.toDelete,t),1):this.toDelete.push(t)},deleteImage:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios({method:"post",url:this.$appLink+"/deletePortfolioGallery",data:{img_directory:this.current_image.directory}}).then(function(t){1==t.data?(e.store.gallery.splice(e.current_index,1),e.$dbCon.service("store").patch(e.store._id,e.store).then(function(){e.$q.notify({message:"Successfully Deleted!",position:"top-right",color:"primary",timeout:700,icon:"check"}),e.viewImg=!1,e.viewVid=!1})):e.$q.notify({message:"An error occured! Please try again.",position:"top-right",color:"red",timeout:700,icon:"check"})});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),deleteVideoLink:function(){var t=this;this.store.gallery.splice(this.current_index,1),this.$dbCon.service("store").patch(this.store._id,this.store).then(function(){t.$q.notify({message:"Successfully Deleted!",position:"top-right",color:"primary",timeout:700,icon:"check"}),t.viewImg=!1,t.viewVid=!1})},deleteMultiple:function(){this.$q.loading.show(),this.toDelete.forEach(function(){var t=l()(i.a.mark(function t(e){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("video link"==e.type){t.next=3;break}return t.next=3,this.$axios({method:"post",url:this.$appLink+"/deletePortfolioGallery",data:{img_directory:e.directory}});case 3:return t.t0=this.store.gallery,t.next=6,_.findIndex(this.store.gallery,e);case 6:return t.t1=t.sent,t.next=9,t.t0.splice.call(t.t0,t.t1,1);case 9:return t.next=11,this.$dbCon.service("store").patch(this.store._id,this.store);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),this),this.$q.loading.hide()},onImageSelected:function(){var t=l()(i.a.mark(function t(e){var a,s;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:for(this.$q.loading.show(),a=0,s=0;s<e.target.files.length;s++)a+=parseFloat(e.target.files[s].size/1024/1024);if(!(this.total_storage>parseFloat(this.compute_used)+a)){t.next=13;break}s=0;case 5:if(!(s<e.target.files.length)){t.next=11;break}return t.next=8,this.uploadFile(e.target.files[s]);case 8:s++,t.next=5;break;case 11:t.next=14;break;case 13:this.$q.dialog({title:"Not Enough Storage Space",message:"Your free space was used up. Please add portfolio storage to continue."});case 14:this.$q.loading.hide();case 15:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),uploadFile:function(){var t=l()(i.a.mark(function t(e){var a,s;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("FILE TO UPLOAD",e.type),!["image/jpeg","image/png"].includes(e.type)){t.next=12;break}return t.next=4,this.$uploadFile(e);case 4:return a=t.sent,s=a.split("/")[a.split("/").length-1],this.store.gallery.unshift({type:"image",name:a,directory:"public/uploads/"+s,size:(e.size/1e6).toFixed(2),createdAt:new Date}),console.log(this.store.gallery),t.next=10,this.$dbCon.service("store").patch(this.store._id,this.store);case 10:t.next=13;break;case 12:this.$q.notify({message:"Error Uploading! The system only accepts .JPG and .PNG!",position:"top-right",color:"red",timeout:700,icon:"check"});case 13:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),addVideoLink:function(){var t=this;this.$q.dialog({title:"Add Video Link",prompt:{model:"",type:"text"},cancel:!0,persistent:!0}).onOk(function(){var e=l()(i.a.mark(function e(a){var s;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.isUrl(a.trim());case 2:if(s=e.sent,""==a.trim()||!s){e.next=10;break}if(a.trim().match("^(https?://)?(www.youtube.com|youtube.com|youtu.?be)/.+$")){e.next=7;break}return t.$q.dialog({title:"The link was not a valid Youtube video",message:"Please input valid Youtube Link to proceed."}),e.abrupt("return");case 7:t.total_storage>parseFloat(t.compute_used)+1?(t.store.gallery.unshift({type:"video link",link:a,size:1,createdAt:new Date}),t.$dbCon.service("store").patch(t.store._id,t.store)):t.$q.dialog({title:"Not Enough Storage Space",message:"Your free space was used up. Please add portfolio storage to continue."}),e.next=11;break;case 10:t.$q.dialog({title:"Video Link is Invalid",message:"The Video Link you insert is invalid."});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},getData:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$dbCon.service("store").find({query:{_id:this.$local.getItem("store_token")}}).then(function(t){e.store=t.data[0]});case 2:return t.next=4,this.$dbCon.service("gallery-subscription").find({query:{store_id:this.$local.getItem("store_token")}}).then(function(t){e.total_storage=0,t.data.map(function(t){e.total_storage+=t.mb})});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),isUrl:function(t){var e=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return!!e.test(t)},getYTID:function(t){var e=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,a=t.match(e);return!(!a||11!=a[7].length)&&a[7]}},mounted:function(){var t=this;this.$dbCon.service("store").onDataChange(function(){t.getData()}),this.$dbCon.service("gallery-subscription").onDataChange(function(){t.getData()})},computed:{compute_used:function(){var t=0;return this.store.gallery.forEach(function(e){t+=parseFloat(e.size)}),t.toFixed(2)}}},C=k,$=Object(m["a"])(C,s,r,!1,null,null,null);e["default"]=$.exports},b17b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-layout",{staticClass:"shadow-2 rounded-borders",attrs:{view:"hHh Lpr lff"}},[a("q-header",{staticClass:"bg-primary",attrs:{elevated:""}},[a("q-toolbar",[a("img",{attrs:{src:t.$appLink+"/uploads/admin/sample_logo.png",width:"40px"}}),a("q-toolbar-title",{staticClass:"text-black text-subtitle1"},[t._v("STOREOWNER DASHBOARD")]),a("div",{staticClass:"text-black"},[t._v("Logout")]),a("q-btn",{attrs:{flat:"",color:"black",round:"",dense:"",icon:"logout"},on:{click:t.logout}})],1)],1),a("q-page-container",[-1==this.store.current_step?a("q-page",{attrs:{padding:""}},[a("Dashboard")],1):t._e(),-1!=this.store.current_step?a("q-page",{attrs:{padding:""}},[a("router-view")],1):t._e()],1)],1)],1)},r=[],n=a("a34a"),i=a.n(n),o=(a("7514"),a("96cf"),a("c973")),l=a.n(o),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"fixed-bottom-left",staticStyle:{"z-index":"2"}},[a("q-btn",{style:t.$q.screen.lt.md?"width:50vw":"width: 150px",attrs:{unelevated:"",label:"Advertise",color:"primary","no-caps":""},on:{click:function(e){t.currentMenu="Store Profile",t.opened=!0}}}),a("a",{attrs:{href:t.$appLink+"/#/store/"+t.store.unique_link,target:"_blank"}},[a("q-btn",{staticClass:"bg-white",style:t.$q.screen.lt.md?"width:50vw":"width: 150px",attrs:{color:"primary",outline:"",unelevated:"","no-caps":""}},[a("div",{staticClass:"text-center"},[t._v("Visit Store")]),a("q-icon",{attrs:{right:"",name:"store"}})],1)],1)],1),a("q-card",{staticClass:"col-12 col-auto",class:t.$q.screen.lt.md?"q-pl-xl":"",attrs:{flat:""}},[a("q-card-section",{staticClass:"row justify-right"},[a("div",{staticClass:"col-md-8 col-xs-12 row"},[a("q-img",{staticClass:"q-mr-md self-center",staticStyle:{height:"60px",width:"60px"},attrs:{src:t.store.logo,ratio:"1"}}),a("div",{staticClass:"col self-center row"},[a("span",{staticClass:"text-h4 text-grey-7 col-12"},[t._v(t._s(t.store.store_name.toUpperCase()))]),a("span",{staticClass:"text-subtitle2 text-grey-7"},[a("span",{staticClass:"text-primary"},[t._v("12.5k")]),t._v(" Followers |\n            "),a("span",{staticClass:"text-primary"},[t._v("5.0")]),t._v(" Store Rating\n          ")])])],1)])],1),a("div",{staticClass:"col-md-9 col-xs-12"},[a("div",{staticClass:"q-pt-md row"},[t.$q.screen.lt.md?a("q-tabs",{staticClass:"bg-white text-white",staticStyle:{width:"100%","max-height":"40px"},attrs:{dense:"","inline-label":"","no-caps":"",breakpoint:0,flat:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{class:"sales"==t.tab?"bg-grey-4 text-primary":"bg-white text-black",staticStyle:{overflow:"hidden"},attrs:{name:"sales",label:"Sales"}}),a("q-tab",{class:"settings"==t.tab?"bg-grey-4 text-primary":"bg-white text-black",attrs:{name:"settings",label:"Settings"}}),a("q-tab",{class:"inventory"==t.tab?"bg-grey-4 text-primary":"bg-white text-black",attrs:{name:"inventory",label:"Inventory"}}),a("q-tab",{class:"reviews"==t.tab?"bg-grey-4 text-primary":"bg-white text-black",attrs:{name:"reviews",label:"Reviews"}}),a("q-tab",{class:"announcements"==t.tab?"bg-grey-4 text-primary":"bg-white text-black",attrs:{name:"announcements",icon:"fas fa-bullhorn"}})],1):a("q-tabs",{staticClass:"bg-white text-white",attrs:{dense:"",align:"left","inline-label":"","no-caps":"",breakpoint:0,flat:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{class:"sales"==t.tab?"bg-primary text-white":"text-grey-7",attrs:{name:"sales"}},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"fa fa-handshake"}}),t._v("Sales ")],1),t._v(" \n        "),a("q-tab",{class:"settings"==t.tab?"bg-primary text-white":"text-grey-7",attrs:{name:"settings"}},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"settings"}}),t._v("Settings ")],1),t._v(" \n        "),a("q-tab",{class:"inventory"==t.tab?"bg-primary text-white":"text-grey-7",attrs:{name:"inventory"}},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"fas fa-box"}}),t._v("Inventory ")],1),t._v(" \n        "),a("q-tab",{class:"reviews"==t.tab?"bg-primary text-white":"text-grey-7",attrs:{name:"reviews"}},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"fa fa-star"}}),t._v("Reviews\n        ")],1)],1),"sales"==t.tab?a("q-card",{staticClass:"col-12 row",style:t.$q.screen.lt.md?"border-top:solid orange 1px":"border: solid orange 1px",attrs:{flat:""}},[a("q-scroll-area",{staticClass:"col-12 row q-pa-md",staticStyle:{height:"63vh"}},[a("div",{staticClass:"q-ma-xs",attrs:{align:"right"}},[a("q-btn",{attrs:{label:"Sales Report",color:"primary","no-caps":"",unelevated:""}})],1),a("div",{staticClass:"col-12 row"},[a("q-card",{staticClass:"q-pa-lg col-md-6 col-xs-12",class:t.$q.screen.lt.sm?"q-mb-md":"q-pr-sm",attrs:{flat:""}},[a("div",{staticClass:"text-primary text-h6 q-pb-sm"},[t._v("Products")]),a("q-separator"),t._l(t.orders,function(e,s){return a("div",{key:s,staticClass:"row"},[a("div",{staticClass:"col-6 self-center"},[t._v(t._s(e))]),a("div",{staticClass:"col-6 self-center"},[a("Orders",{attrs:{tab:e}})],1),a("q-separator",{staticClass:"col-12"})],1)})],2),a("q-card",{staticClass:"q-pa-lg col-md-6 col-xs-12",class:t.$q.screen.lt.sm?"q-mb-md":null,attrs:{flat:""}},[a("div",{staticClass:"text-primary text-h6 q-pb-sm"},[t._v("Services")]),a("q-separator"),t._l(t.reservations,function(e,s){return a("div",{key:s,staticClass:"row"},[a("div",{staticClass:"col-6 self-center"},[t._v(t._s(e))]),a("div",{staticClass:"col-6 self-center"},[a("Reservations",{attrs:{tab:e}})],1),a("q-separator",{staticClass:"col-12"})],1)})],2)],1)])],1):t._e(),"settings"==t.tab?a("q-card",{staticClass:"col-12 row",style:t.$q.screen.lt.md?"border-top:solid orange 1px":"border: solid orange 1px",attrs:{flat:""}},[a("q-scroll-area",{staticClass:"col-12 row",staticStyle:{height:"63vh"}},[a("div",{staticClass:"col-12 row"},[a("MainMenu",{class:t.$q.screen.lt.md?"":"q-pl-md"})],1)])],1):t._e(),"inventory"==t.tab?a("q-card",{staticClass:"col-12",style:t.$q.screen.lt.md?"border-top:solid orange 1px":"border: solid orange 1px",attrs:{flat:""}},[a("q-scroll-area",{staticClass:"col-12 row",staticStyle:{height:"63vh"}},[a("div",{staticClass:"col-12 row"},[a("ManageItems",{staticClass:"col-12",class:t.$q.screen.lt.md?"":"q-pl-md"})],1)])],1):t._e(),"reviews"==t.tab?a("q-card",{staticClass:"col-12",style:t.$q.screen.lt.md?"border-top:solid orange 1px":"border: solid orange 1px",attrs:{flat:""}},[a("q-scroll-area",{staticClass:"col-12 row",staticStyle:{height:"63vh"}},[a("div",{staticClass:"col-12 row"},[a("Ratings",{class:t.$q.screen.lt.md?"":"q-pl-md"})],1)])],1):t._e(),"announcements"==t.tab?a("WidgetAnnouncement",{attrs:{fromTypeUser:"Store Owner"}}):t._e()],1)]),t.$q.screen.lt.md?t._e():a("div",{staticClass:"col-md-3 col-xs-12 q-pt-md q-pl-sm column"},[a("WidgetAnnouncement",{staticClass:"col",attrs:{fromTypeUser:"Store Owner"}})],1),a("q-dialog",{staticClass:"column",attrs:{"full-height":"","full-width":"",maximized:t.$q.screen.lt.md},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("q-card",{staticClass:"col-12",staticStyle:{width:"800px","max-width":"80vw"}},[a("q-bar",[a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"},on:{click:function(e){t.opened=!1}}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),a("q-card-section",{staticClass:"column"},[a("div",{staticClass:"col-12"},["Store Profile"==t.currentMenu?a("StoreProfile",{attrs:{current:"3"}}):t._e(),"Reports"==t.currentMenu?a("Reports"):t._e()],1)])],1)],1)],1)},d=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("q-card",{staticClass:"col",style:t.$q.screen.lt.md?"border-top:solid orange 1px":"border: solid orange 1px",attrs:{flat:"",bordered:!t.$q.screen.lt.md}},[a("q-card-section",[t.$q.screen.lt.md?t._e():a("div",{staticClass:"row justify-between text-grey"},[a("div",{staticClass:"text-title "},[t._v("Announcements")]),a("q-icon",{attrs:{name:"fas fa-bullhorn"}})],1),t.$q.screen.lt.md?t._e():a("q-separator",{staticClass:"q-mt-md"}),t._l(t.data,function(e){return a("q-list",{key:e._id},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[a("q-item-section",[a("q-item-label",{staticClass:"text-bold"},[t._v(t._s(e.title))]),a("q-item-label",{staticClass:"text-primary",attrs:{caption:""}},[t._v("\n              "+t._s(t.$formatDate_DateOnly(e.createdAt))+"\n            ")]),a("q-item-label",{attrs:{caption:"",lines:"2"}},[t._v(t._s(e.content))])],1)],1),a("q-separator",{attrs:{spaced:"",inset:""}})],1)})],2)],1)],1)},p=[],m={props:["fromTypeUser"],data:function(){return{data:[]}},mounted:function(){var t=this;this.$dbCon.service("announcements").find({query:{user:{$in:["All",this.fromTypeUser]}}}).then(function(e){t.data=e.data})}},h=m,f=a("2877"),v=Object(f["a"])(h,u,p,!1,null,null,null),_=v.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[0==t.current?a("q-breadcrumbs",{staticClass:"text-grey col-12"},[a("q-breadcrumbs-el",{attrs:{label:"Maintenance",icon:"widgets"}}),a("q-breadcrumbs-el",{attrs:{label:"Store Profile",icon:"store"}})],1):t._e(),3==t.current?a("q-breadcrumbs",{staticClass:"text-grey col-12"},[a("q-breadcrumbs-el",{attrs:{label:"Maintenance",icon:"widgets"}}),a("q-breadcrumbs-el",{attrs:{label:"Subscriptions",icon:"fa fa-retweet"}})],1):t._e(),1==t.current?a("q-breadcrumbs",{staticClass:"text-grey col-12"},[a("q-breadcrumbs-el",{attrs:{label:"Maintenance",icon:"widgets"}}),a("q-breadcrumbs-el",{attrs:{label:"Account and Security",icon:"security"}})],1):t._e(),a("br"),a("div",{staticClass:"col-12"},[a("div",{staticClass:"q-pa-md"},[0==t.current?a("EditStore"):t._e(),1==t.current?a("PrivacySetting"):t._e(),3==t.current?a("AdvertiseStore"):t._e(),1==t.current?a("ManageAccount"):t._e(),1==t.current?a("SecuritySetting",{staticClass:"q-pt-sm"}):t._e()],1)])],1)},g=[],y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-gutter-sm"},[a("q-tabs",{staticClass:"bg-primary text-white",attrs:{dense:"","no-caps":"",align:"left","inline-label":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{attrs:{name:"Store Details",icon:"list",label:"Store Details"}}),a("q-tab",{attrs:{name:"Portfolio",icon:"dashboard",label:"Profolio"}})],1),"Store Details"==t.tab?a("StoreProfile"):a("Portfolio",{staticClass:"q-pa-lg"})],1)},q=[],w=a("060d"),x=a("93ac"),k={components:{StoreProfile:w["a"],Portfolio:x["default"]},data:function(){return{tab:"Store Details"}}},C=k,$=Object(f["a"])(C,y,q,!1,null,null,null),S=$.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-gutter-md"},[a("q-card",{attrs:{bordered:"",flat:""}},[a("q-card-section",[t._v("Change Password")]),a("q-card-section",[0!=t.error.length?a("q-banner",{staticClass:"bg-red text-white",attrs:{rounded:""},scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"error",color:"white"}})]},proxy:!0}],null,!1,3709320977)},[a("ul",t._l(t.error,function(e,s){return a("li",{key:s},[t._v(t._s(e))])}),0)]):t._e(),a("q-input",{staticClass:"q-pt-sm",attrs:{outlined:"",square:"",type:"password",label:"Old Password"},model:{value:t.old_pw,callback:function(e){t.old_pw=e},expression:"old_pw"}}),a("q-input",{staticClass:"q-pt-sm",attrs:{outlined:"",square:"",type:"password",label:"New Password"},model:{value:t.new_pw,callback:function(e){t.new_pw=e},expression:"new_pw"}}),a("div",{staticClass:"q-pt-sm",attrs:{align:"right"}},[a("q-btn",{attrs:{label:"submit",color:"primary"},on:{click:t.validate}})],1)],1)],1)],1)},D=[],A={data:function(){return{old_pw:"",new_pw:"",error:[]}},methods:{validate:function(){var t=this;this.error=[],this.old_pw.trim()||this.error.push("Old Password field is required"),this.new_pw.trim()||this.error.push("New Password field is required"),0==this.error.length&&this.$dbCon.service("users").find({query:{_id:this.$local.getItem("user_token")}}).then(function(e){t.$dbCon.authenticate({strategy:"local",email:e.data[0].email,password:t.old_pw}).then(function(e){t.save()}).catch(function(){t.error.push("You have entered wrong Old Password")})})},save:function(){var t=this;this.$q.dialog({title:"Confirmation",message:"Are you sure you want to change your password?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){t.$dbCon.service("users").patch(t.$local.getItem("user_token"),{password:t.new_pw}).then(function(){t.$dbCon.service("users").find({query:{_id:t.$local.getItem("user_token")}}).then(function(e){t.$q.dialog({title:"Success",message:"New password saved!"})})})})}}},O=A,M=Object(f["a"])(O,P,D,!1,null,null,null),I=M.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-list",{attrs:{bordered:"",separator:""}},[a("q-item",[a("q-item-section",[t._v("Show Owner's Details")]),a("q-item-section",{attrs:{avatar:""}},[a("q-toggle",{attrs:{value:t.data.show_owners_details,dense:"",color:"primary"},on:{input:function(e){return t.update()}}})],1)],1)],1)],1)},E=[],R={data:function(){return{data:{}}},methods:{update:function(){var t=this;this.$q.dialog({title:"Confirmation",message:"Are you sure you want to change Store's Privacy Setting?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){t.data.show_owners_details?t.data.show_owners_details=!1:t.data.show_owners_details=!0,t.$dbCon.service("store").update(t.data._id,t.data).then(function(){t.$q.dialog({title:"Success",message:"Store details updated!"})})})}},mounted:function(){var t=this;this.$dbCon.service("store").find({_id:this.$local.getItem("store_token")}).then(function(e){t.data=e.data[0]})}},F=R,T=Object(f["a"])(F,N,E,!1,null,null,null),U=T.exports,L=a("2ca6"),B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-list",{attrs:{bordered:"",separator:""}},[a("q-item",[a("q-item-section",[t._v("Store Status")]),a("q-item-section",{attrs:{avatar:""}},[a("q-toggle",{attrs:{value:t.data.published,dense:"",color:"primary"},on:{input:function(e){return t.unpublish_status()}}}),a("span",{staticClass:"text-primary-8"},[t._v(t._s(t.data.published?"PUBLISHED":"UNPUBLISHED"))])],1)],1),a("q-item",[a("q-item-section",[t._v("Store Account")]),a("q-item-section",{staticClass:"row",attrs:{avatar:""}},[a("span",{staticClass:"text-primary-8"},[a("q-btn",{attrs:{flat:"",icon:"info",label:"DEACTIVATE",color:"red"},on:{click:t.deactivate}})],1)])],1)],1)],1)},z=[],j={data:function(){return{data:{}}},methods:{unpublish_status:function(){var t=this;this.$q.dialog({title:"Confirmation",message:"Are you sure you want to "+(this.data.published?"Unpublish":"Publish")+" this Store?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){t.data.published=!t.data.published,t.$dbCon.service("store").update(t.data._id,t.data).then(function(){t.$q.dialog({title:"Success",message:"Store details updated!"})})})},deactivate:function(){var t=this;this.$q.dialog({title:"Confirmation",message:"Are you sure you want to Deactivate your Store? After deactivating, you have 30 days to reactive your Store.",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){t.$q.dialog({title:"Verification",message:"Enter your Account Password",prompt:{type:"password"},cancel:!0,persistent:!0}).onOk(function(e){t.$dbCon.service("shop").find({query:{_id:t.$local.getItem("store_token"),password:e}}).then(function(e){0!=e.total?t.$q.dialog({title:"Store Deactivated",message:"You may Reactivate your store by logging within 30 Days Period",persistent:!0}).onOk(function(){t.$dbCon.service("store").update(t.data._id,t.data),t.$session.destroy(),t.$router.push("/StoreOwner/Login")}):t.$q.dialog({title:"Wrong password",message:"You have entered wrong password"})})})})}},mounted:function(){var t=this;this.$dbCon.service("store").find({_id:this.$local.getItem("store_token")}).then(function(e){t.data=e.data[0]})}},V=j,Y=Object(f["a"])(V,B,z,!1,null,null,null),G=Y.exports,K={props:["current"],components:{EditStore:S,SecuritySetting:I,PrivacySetting:U,AdvertiseStore:L["a"],ManageAccount:G},data:function(){return{data:{}}},mounted:function(){var t=this;this.$dbCon.service("store").find({query:{_id:this.$local.getItem("store_token")}}).then(function(e){t.data=e.data[0]})}},W=K,H=Object(f["a"])(W,b,g,!1,null,null,null),Q=H.exports,J=a("d215"),Z=a("ef78"),X=a("7225"),tt=a("653e"),et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("q-card",{staticClass:"col justify-center row text-grey text-caption ",class:t.$q.screen.lt.sm?"q-ma-md":"q-pa-xl",attrs:{flat:""}},t._l(t.menus,function(e){return a("div",{key:e.label,staticClass:"col-md-5 col-xs-12 col-sm-12 row justify-left",class:t.$q.screen.lt.sm?"q-mb-md":"q-mb-lg"},[a("q-btn",{staticClass:"col-9",class:t.$q.screen.lt.md?"full-width":"",attrs:{dense:"","no-caps":"",unelevated:"",size:"20px"},on:{click:function(a){return t.openModal(e.label)}}},[a("div",{staticClass:"col-3 text-right"},[a("q-icon",{staticClass:"q-pr-md",attrs:{name:e.icon}})],1),a("div",{staticClass:"col-9 text-left text-h6"},[t._v("\n          "+t._s(e.label)+"\n          "),a("div",{staticClass:"text-left text-caption"},[t._v(t._s(e.desc))])])])],1)}),0),a("q-dialog",{staticClass:"column",attrs:{"full-height":"",maximized:t.$q.screen.lt.md},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("q-card",{staticClass:"col-12",style:t.$q.screen.lt.md?"":"width: 75vw; max-width: 80vw;"},[a("q-bar",[a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"},on:{click:function(e){t.opened=!1}}},[a("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),a("q-card-section",{staticClass:"column"},[a("div",{staticClass:"col-12"},["STORE PROFILE"==t.currentMenu?a("StoreProfile",{attrs:{current:"0"}}):t._e(),"EMPLOYEES"==t.currentMenu?a("Users"):t._e(),"SUBSCRIPTIONS"==t.currentMenu?a("StoreProfile",{attrs:{current:"3"}}):t._e(),"ACCOUNT AND SECURITY"==t.currentMenu?a("StoreProfile",{attrs:{current:"1"}}):t._e(),"BOOKING CALENDAR"==t.currentMenu?a("BookingSystem"):t._e(),"GIFT WRAPPING"==t.currentMenu?a("GiftWrappingServices"):t._e(),"DELIVERY"==t.currentMenu?a("Delivery"):t._e(),"FUEL AND TRANSPO"==t.currentMenu?a("FuelTranspo"):t._e()],1)])],1)],1)],1)},at=[],st=a("f653"),rt=a("5d16"),nt=a("57c2"),it=a("16f3"),ot=a("81c3"),lt=a("5e66"),ct={components:{StoreProfile:Q,ManageItems:J["a"],Users:st["default"],Portfolio:x["default"],RatingsAndReviews:rt["default"],BookingSystem:nt["default"],GiftWrappingServices:it["default"],Delivery:ot["default"],FuelTranspo:lt["default"]},data:function(){return{menus:[{label:"STORE PROFILE",icon:"store",desc:"Business Details | Bio | Logo | Portfolio"},{label:"BOOKING CALENDAR",icon:"calendar_today",desc:"Available | Booked"},{label:"GIFT WRAPPING",icon:"card_giftcard",desc:"Charges | Size Classification"},{label:"SUBSCRIPTIONS",icon:"fa fa-retweet",desc:"Advertisements | Add-ons"},{label:"DELIVERY",icon:"motorcycle",desc:"Charges | Destinations"},{label:"ACCOUNT AND SECURITY",icon:"security",desc:"Delete | Unpublish | Password | OTP"},{label:"FUEL AND TRANSPO",icon:"drive_eta",desc:"Charges | Destinations"},{label:"EMPLOYEES",icon:"people",desc:"Add | Delete | Edit"}],opened:!1,currentMenu:"",currentInventoryMenu:"products"}},methods:{openModal:function(t){this.opened=!1,this.currentMenu=t,this.opened=!0}}},dt=ct,ut=Object(f["a"])(dt,et,at,!1,null,null,null),pt=ut.exports,mt={components:{StoreProfile:Q,ManageItems:J["a"],Reports:Z["default"],Orders:X["default"],Reservations:tt["default"],MainMenu:pt,WidgetAnnouncement:_,Ratings:rt["default"]},data:function(){return{opened:!1,currentMenu:"",currentInventoryMenu:"products",store:{},orders:["Pending Payment","For Acknowledgement","For Packaging","For Shipping","For Pickup","Completed"],reservations:["Pending Payment","To Acknowledge","Status","Completed"],tab:"sales"}},mounted:function(){var t=this;this.$dbCon.service("store").onDataChange(function(){t.$dbCon.service("store").find({query:{_id:t.$local.getItem("store_token")}}).then(function(e){t.store=e.data[0]})})}},ht=mt,ft=Object(f["a"])(ht,c,d,!1,null,"082e5a96",null),vt=ft.exports,_t={components:{Dashboard:vt,WidgetAnnouncement:_},data:function(){return{drawer:!1,store:{},user:{},isOwner:!1}},methods:{getData:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$dbCon.service("store").find({query:{_id:this.$local.getItem("store_token")}}).then(function(t){console.log("results",t),console.log('this.$local.getItem("store_token")',e.$local.getItem("store_token")),e.store=t.data[0],console.log("this.store",e.store),-1!=e.store.current_step&&e.$router.push("/StoreOwner/PublishStore")}),t.next=3,this.$getUser();case 3:this.user=t.sent;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),logout:function(){this.$local.clear(),this.$dbCon.logout(),this.$router.push("/StoreOwner/Login")}},mounted:function(){var t=this;this.$dbCon.service("store").onDataChange(function(){t.getData()})},created:function(){this.$local.has(this.$appLink+"-jwt")||(this.$local.clear(),this.$router.push("/StoreOwner/Login"))}},bt=_t,gt=Object(f["a"])(bt,s,r,!1,null,null,null);e["default"]=gt.exports},c40a:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var s=["Nationwide","Abra","Agusan del Norte","Agusan del Sur","Aklan","Albay","Antique","Apayao","Aurora","Basilan","Bataan","Batanes","Batangas","Benguet","Biliran","Bohol","Bukidnon","Bulacan","Cagayan","Camarines Norte","Camarines Sur","Camiguin","Capiz","Catanduanes","Cavite","Cebu","Compostela Valley","Cotabato","Davao del Norte","Davao del Sur","Davao Occidental","Davao Oriental","Dinagat Islands","Eastern Samar","Guimaras","Ifugao","Ilocos Norte","Ilocos Sur","Iloilo","Isabela","Kalinga","La Union","Laguna","Lanao del Norte","Lanao del Sur","Leyte","Maguindanao","Marinduque","Masbate","Metro Manila","Misamis Occidental","Misamis Oriental","Mountain Province","Negros Occidental","Negros Oriental","Northern Samar","Nueva Ecija","Nueva Vizcaya","Occidental Mindoro","Oriental Mindoro","Palawan","Pampanga","Pangasinan","Quezon","Quirino","Rizal","Romblon","Samar","Sarangani","Siquijor","Sorsogon","South Cotabato","Southern Leyte","Sultan Kudarat","Sulu","Surigao del Norte","Surigao del Sur","Tarlac","Tawi-Tawi","Zambales","Zamboanga del Norte","Zamboanga del Sur","Zamboanga Sibugay"]},d215:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-sm"},[a("div",{staticClass:"q-pb-md"},[a("q-toolbar",[a("div",{staticClass:"full-width row justify-end items-center"},[a("div",{staticClass:"row items-center",class:t.$q.screen.lt.md?"justify-between col-12":""},[a("div",{staticClass:"row justify-center",class:t.$q.screen.lt.md?"col-8":""},[t.maximum_items<6?a("p",{staticClass:"text-bold"},[a("br"),t._v("\n              You have "+t._s(t.maximum_items-t.data.length)+" remaining item slots\n            ")]):t.maximum_items==t.data.length&&5==t.maximum_items?a("p",{staticClass:"text-bold"},[a("br"),t._v("You have consumed your free item slots\n            ")]):a("p",{staticClass:"text-bold"},[a("br"),t._v("\n              You have "+t._s(t.maximum_items-t.data.length)+" remaining item slots\n            ")]),a("p",[a("br"),t._v(" ("+t._s(t.data.length)+"/"+t._s(t.maximum_items)+")")])]),a("div",{staticClass:"row justify-end",class:t.$q.screen.lt.md?"col-4 q-pt-md":""},[a("AddMoreItem",{ref:"buy_slots",attrs:{itemtype:"Products"}})],1)]),"/StoreOwner/PublishStore"!=t.$route.path?a("q-input",{class:t.$q.screen.lt.md?"col-12":"",attrs:{square:"",filled:"",outlined:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}],null,!1,4009527860),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}):t._e()],1)])],1),0==t.data.length?a("q-card",{staticClass:"q-ma-sm",staticStyle:{width:"150px",height:"200px"},attrs:{square:"",bordered:"",flat:""}},[a("q-btn",{staticStyle:{width:"100%",height:"100%"},attrs:{unelevated:"",label:"Add an item","no-caps":"",flat:"",stack:"",color:"grey",icon:"add",size:"md"},on:{click:function(e){t.opened=!0}}})],1):t._e(),a("q-table",{attrs:{data:t.data,columns:t.columns,"row-key":"name",filter:t.filter,grid:"","hide-header":""},scopedSlots:t._u([{key:"item",fn:function(e){return[0==e.row.__index?a("q-card",{staticClass:"q-ma-sm",style:t.$q.screen.lt.md?"width: 45% ; height: 260px":"width: 250px ; height: 280px",attrs:{square:"",bordered:"",flat:""}},[a("q-btn",{staticStyle:{width:"100%",height:"100%"},attrs:{unelevated:"",label:t.maximum_items<t.data.length?"Buy slots":"Add an item","no-caps":"",flat:"",stack:"",color:"grey",icon:"add",size:"md"},on:{click:function(e){t.maximum_items<t.data.length?t.$refs.buy_slots.opened=!0:t.opened=!0}}})],1):t._e(),a("q-card",{staticClass:"q-ma-sm",style:t.$q.screen.lt.md?"width: 45% ; height: 260px":"width: 250px ; height: 280px",attrs:{square:"",bordered:"",flat:""}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.currentItem!=e.row.__index,expression:"currentItem != props.row.__index"}]},[a("div",{staticClass:"q-pa-xs row justify-between text-caption",staticStyle:{cursor:"pointer"},on:{click:function(a){t.currentItem=e.row.__index}}},[a("span",[t._v("\n              On-hand:\n              "),a("span",{staticClass:"text-primary"},[t._v("25")])]),a("div",{staticClass:"text-primary"},[t._v("Manage")])]),a("q-separator"),a("div",{staticStyle:{cursor:"pointer"},on:{click:function(a){t.currentItem=e.row.__index}}},[a("q-img",{attrs:{src:e.row.photos[0],ratio:t.$q.screen.lt.md?4/3:16/9}}),a("div",{staticClass:"q-pa-xs"},[a("div",{staticClass:"text-right"},[t._v("SKU: "+t._s(e.row.SKU))]),a("div",[t._v(t._s(e.row.item_type))]),a("div",[t._v("\n                "+t._s(t.$prettyMoney(e.row.regular_price))+"\n                "),a("small",{staticClass:"text-primary q-pl-sm"},[a("strike",[t._v(t._s(t.$prettyMoney(e.row.sale_price)))])],1)])])],1),a("q-separator"),a("div",{attrs:{align:"center"}},["past"!=t.$compareToCurrentDate(e.row.expiry)?a("AdvertiseButton",{attrs:{related_id:e.row._id,item_type:"product"}}):t._e()],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.currentItem==e.row.__index,expression:"currentItem == props.row.__index"}]},[a("div",{staticClass:"q-pa-xs row text-caption"},[a("div",[t._v("Manage SKU: "+t._s(e.row.SKU))]),a("q-space"),a("q-btn",{attrs:{flat:"",icon:"close",size:"sm",dense:""},on:{click:function(e){t.currentItem=null}}})],1),a("q-separator"),a("div",{staticClass:"q-pa-sm"},["Product"==e.row.item_type?a("div",{staticClass:"q-mb-sm",staticStyle:{cursor:"pointer"},on:{click:function(a){t.current_item_id=e.row._id,t.$refs.manageproduct.openadjuststock(e.row._id)}}},[a("q-icon",{staticClass:"text-primary q-mr-sm",attrs:{name:"fa fa-edit"}}),t._v("Add/Deduct inventory\n            ")],1):a("div",{staticClass:"q-mb-sm",staticStyle:{cursor:"pointer"}},[a("q-icon",{staticClass:"text-primary q-mr-sm",attrs:{name:"fa fa-edit"}}),t._v("Booking\n              Calendar\n            ")],1),a("div",{staticClass:"q-mb-sm",staticStyle:{cursor:"pointer"},on:{click:function(a){t.current_item_id=e.row._id,t.$refs.manageproduct.openeditproduct(e.row._id)}}},[a("q-icon",{staticClass:"text-primary q-mr-sm",attrs:{name:"fa fa-edit"}}),t._v("Edit\n              details\n            ")],1),a("div",{staticClass:"q-mb-sm",staticStyle:{cursor:"pointer"},on:{click:function(a){t.current_item_id=e.row._id,t.$refs.manageproduct.deleteProduct(e.row._id)}}},[a("q-icon",{staticClass:"text-primary q-mr-sm",attrs:{name:"fa fa-edit"}}),t._v("Delete\n              item\n            ")],1)]),a("div",{staticClass:"q-ml-sm"},[a("font",{attrs:{size:"2"}},["Product"==e.row.item_type?a("table",[a("tr",[a("td",[t._v("On-hand")]),a("td",{staticClass:"text-primary"},[t._v("25")])]),a("tr",[a("td",[t._v("Sold")]),a("td",{staticClass:"text-primary"},[t._v("1")])]),a("tr",[a("td",[t._v("Cancelled")]),a("td",{staticClass:"text-primary"},[t._v("1")])]),a("tr",[a("td",[t._v("Returned")]),a("td",{staticClass:"text-primary"},[t._v("1")])]),a("tr",[a("td",[t._v("Gift-wrapped")]),a("td",{staticClass:"text-primary"},[t._v("1")])])]):a("table",[a("tr",[a("td",[t._v("Available")]),a("td",{staticClass:"text-primary"},[t._v("25")])]),a("tr",[a("td",[t._v("Booked")]),a("td",{staticClass:"text-primary"},[t._v("1")])]),a("tr",[a("td",[t._v("Completed")]),a("td",{staticClass:"text-primary"},[t._v("1")])]),a("tr",[a("td",[t._v("Cancelled")]),a("td",{staticClass:"text-primary"},[t._v("1")])]),a("tr",[a("td",[t._v("Refunded")]),a("td",{staticClass:"text-primary"},[t._v("1")])])])])],1)],1)])]}}])}),a("q-dialog",{attrs:{persistent:"",maximized:t.$q.screen.lt.md,"full-height":""},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("q-card",{staticStyle:{width:"400px"}},[a("q-card-section",{staticClass:"row items-center text-grey-10"},[1==t.step?a("div",{staticClass:"text-h6"},[t._v("Add an item")]):t._e(),1!=t.step?a("div",{staticClass:"text-h6"},[t._v("\n          Adding "+t._s(t.category.label)+"\n        ")]):t._e(),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("q-separator"),a("q-card-section",[a("q-breadcrumbs",{staticClass:"text-grey-10 col-12 text-body1 q-pb-md",attrs:{separator:">","active-color":"grey-10"}},[1==t.step?a("q-breadcrumbs-el",{attrs:{label:"Item category",icon:"dashboard"}}):t._e(),2==t.step?a("q-breadcrumbs-el",{attrs:{label:"Details",icon:"description"}}):t._e(),3==t.step?a("q-breadcrumbs-el",{attrs:{label:"Photos",icon:"photo"}}):t._e(),4==t.step?a("q-breadcrumbs-el",{attrs:{label:"Settings",icon:"settings"}}):t._e()],1),1==t.step?a("div",{staticClass:"row justify-center"},[a("q-select",{staticClass:"col-md-12 col-xs-12 q-pt-sm",class:t.$q.screen.lt.md?"":"q-pr-sm",attrs:{options:t.category_options,label:"Choose category"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}),a("div",{staticClass:"col-12",attrs:{align:"right"}},[a("AddCategory")],1)],1):t._e(),1!=t.step&&"Product"==t.category.type?a("div",{staticClass:"row justify-center"},[a("AddProduct",{ref:"item_form",attrs:{step:t.step,category:t.category.value},on:{"update:step":function(e){t.step=e},"update:category":function(e){return t.$set(t.category,"value",e)}}})],1):t._e(),1!=t.step&&"Service"==t.category.type?a("div",{staticClass:"row justify-center"},[a("AddService",{ref:"item_form",attrs:{step:t.step,category:t.category.value},on:{"update:step":function(e){t.step=e},"update:category":function(e){return t.$set(t.category,"value",e)}}})],1):t._e(),a("div",{staticClass:"q-pt-md",attrs:{align:"right"}},[1==t.step?a("q-btn",{ref:"btn_save_next",attrs:{color:"primary",label:"Continue","no-caps":"",outline:""},on:{click:function(e){t.step=2},mouseover:function(e){t.$refs.btn_save_next.unelevated=!0,t.$refs.btn_save_next.outline=!1},mouseleave:function(e){t.$refs.btn_save_next.outline=!0,t.$refs.btn_save_next.unelevated=!1}}}):t._e(),1!=t.step?a("div",[a("q-btn",{ref:"btn_back",attrs:{color:"grey",label:"Back","no-caps":"",flat:""},on:{click:function(e){t.step--},mouseover:function(e){t.$refs.btn_back.unelevated=!0,t.$refs.btn_back.flat=!1},mouseleave:function(e){t.$refs.btn_back.flat=!0,t.$refs.btn_back.unelevated=!1}}}),a("q-btn",{ref:"btn_save_next",staticClass:"q-ml-sm",attrs:{color:"primary",label:"Continue","no-caps":"",outline:""},on:{click:function(e){t.step++},mouseover:function(e){t.$refs.btn_save_next.unelevated=!0,t.$refs.btn_save_next.outline=!1},mouseleave:function(e){t.$refs.btn_save_next.outline=!0,t.$refs.btn_save_next.unelevated=!1}}})],1):t._e()],1)],1)],1)],1),a("ManageProduct",{ref:"manageproduct"})],1)},r=[],n=a("a34a"),i=a.n(n),o=(a("7514"),a("96cf"),a("c973")),l=a.n(o),c=a("6eaf"),d=a("0fda"),u=a("6356"),p=a("c078"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{attrs:{label:"Add new category","no-caps":"",size:"md",flat:"",color:"primary"},on:{click:function(e){t.opened=!0}}}),a("q-dialog",{model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("q-card",[a("q-card-section",[a("q-select",{ref:"categories",staticClass:"col-xs-12",attrs:{label:"Categories",rules:[function(){return 0!=t.store.categories.length||"This Field is required"}],"lazy-rules":"","use-chips":"","use-input":"",multiple:"","fill-input":"","input-debounce":"0",options:t.categories_option,outlined:"",square:"",dense:"",placeholder:t.categories_done?"search..":""},on:{filter:t.filterCategories,add:function(){t.$refs.categories.blur()},focus:function(){t.categories_done=!0},blur:function(){t.categories_done=!1}},scopedSlots:t._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[t._v("No results")])],1)]},proxy:!0}]),model:{value:t.store.categories,callback:function(e){t.$set(t.store,"categories",e)},expression:"store.categories"}})],1),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"Cancel",color:"grey"},on:{click:function(e){t.opened=!1}}}),a("q-btn",{attrs:{flat:"",label:"Save",color:"primary"},on:{click:t.save}})],1)],1)],1)],1)},h=[],f={data:function(){return{categories_option:[],categories_list:[],store:{},opened:!1,categories_done:!1}},methods:{filterCategories:function(t,e,a){var s=this;e(function(){var e=t.toLowerCase();s.categories_option=s.categories_list.filter(function(t){return t.toLowerCase().indexOf(e)>-1})})},save:function(){var t=l()(i.a.mark(function t(){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$dbCon.service("store").patch(this.store._id,this.store);case 2:this.$EventBus.$emit("update-category",this.store.categories[this.store.categories.length-1]),this.opened=!1;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$dbCon.service("store").find({query:{_id:this.$local.getItem("store_token")}}).then(function(t){e.store=t.data[0]});case 2:this.$dbCon.service("categories").find({query:{$select:["category_name"]}}).then(function(t){t.data.map(function(t){e.categories_option.push(t.category_name),e.categories_list.push(t.category_name)})});case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},v=f,_=a("2877"),b=Object(_["a"])(v,m,h,!1,null,null,null),g=b.exports,y=a("50b2"),q={components:{AddProduct:c["a"],AddService:d["a"],AdvertiseButton:u["a"],AddMoreItem:p["a"],AddCategory:g,ManageProduct:y["default"]},data:function(){return{data:[],currentItem:null,current_item_id:"",opened:!1,manage_item:!1,filter:"",maximum_items:0,step:1,item_type:"",category_options:[],category:{},columns:[{name:"SKU",required:!0,label:"SKU",align:"left",field:"SKU"},{name:"product_name",required:!0,label:"Product Name",align:"left",field:"product_name"},{name:"category",align:"center",label:"Category",field:"category"},{name:"regular_price",label:"Regular Price",field:"regular_price"},{name:"sale_price",label:"Sale Price",field:"sale_price"},{name:"stock",label:"Stock",field:"stock"}]}},methods:{max_items:function(){this.$q.dialog({title:"Maximum number of Products reached!",message:"To add more product, you may avail it via Bank Deposit or Layaway"})},getData:function(){var t=l()(i.a.mark(function t(){var e,a;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$dbCon.service("products").find({query:{store_id:this.$local.getItem("store_token"),deleted:!1}}).then(function(t){return t.data.map(function(e,a){t.data[a].item_type="Product"}),t.data});case 2:return e=t.sent,t.next=5,this.$dbCon.service("services").find({query:{store_id:this.$local.getItem("store_token"),deleted:!1}}).then(function(t){return t.data.map(function(e,a){t.data[a].item_type="Service"}),t.data});case 5:a=t.sent,this.data=e.concat(a);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),unavailableMessage:function(){this.$q.dialog({title:"Unavailable Item",message:"This item is no longer available due to expired item subscription. You may reactivate this item again by purchasing a subscription."})}},watch:{step:function(){var t=l()(i.a.mark(function t(){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(2==this.step&&void 0==this.category.value&&(this.step=1,this.$q.dialog({title:"Choose Item Category",message:"Please choose an Item Category to proceed."})),3!=this.step){t.next=6;break}return t.next=4,this.$refs.item_form.validate();case 4:if(!t.sent){t.next=6;break}this.step--;case 6:if(4!=this.step){t.next=11;break}return t.next=9,this.$refs.item_form.validate();case 9:if(!t.sent){t.next=11;break}this.step--;case 11:6==this.step&&(this.opened=!1,this.item_type="",this.step=1);case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),opened:function(){0==this.opened&&(this.step=1,this.item_type="")}},mounted:function(){var t=l()(i.a.mark(function t(){var e=this;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$EventBus.$on("update-category",function(t){e.$dbCon.service("store").get(e.$local.getItem("store_token")).then(function(a){e.$dbCon.service("categories").find({query:{category_name:{$in:a.categories}}}).then(function(a){e.category_options=[],a.data.map(function(a){e.category_options.push({label:a.category_name,value:a.category_name,type:a.classification}),e.$forceUpdate();for(var s=0;s<e.category_options.length;s++)e.category_options[s].value==t&&(e.category=e.category_options[s])})})})}),this.$EventBus.$on("update-step",function(t){e.step=t}),this.$dbCon.service("products").onDataChange(function(){e.getData()}),this.$dbCon.service("services").onDataChange(function(){e.getData()}),this.$dbCon.service("item-subscriptions").onDataChange(function(){e.getData()}),t.next=7,this.$dbCon.service("item-subscriptions").find({query:{store_id:this.$local.getItem("store_token"),$or:[{date_end:{$gte:new Date},status:"Paid"},{status:"Free"}]}}).then(function(t){console.log(t);var a=0;t.data.map(function(t){a+=t.items}),e.maximum_items=a});case 7:this.$dbCon.service("store").get(this.$local.getItem("store_token")).then(function(t){e.$dbCon.service("categories").find({query:{category_name:{$in:t.categories}}}).then(function(t){e.category_options=[],t.data.map(function(t){e.category_options.push({label:t.category_name,value:t.category_name,type:t.classification}),e.$forceUpdate()})})});case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},w=q,x=Object(_["a"])(w,s,r,!1,null,null,null);e["a"]=x.exports},ef78:function(t,e,a){"use strict";a.r(e);var s,r,n,i,o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-select",{attrs:{filled:"",options:["Transactions"],label:"Type of Report"},model:{value:t.type_of_report,callback:function(e){t.type_of_report=e},expression:"type_of_report"}}),"Transactions"==t.type_of_report?a("TransactionsReport"):t._e(),"Inventory"==t.type_of_report?a("InventoryReport"):t._e(),"Sales"==t.type_of_report?a("SalesReport"):t._e()],1)},l=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Reports",{attrs:{start_date:t.start_date,end_date:t.end_date,header:t.header,data:t.data,generateExcel:"",generatePDF:""}})],1)},d=[],u=a("a34a"),p=a.n(u),m=(a("7514"),a("96cf"),a("c973")),h=a.n(m),f=a("9ffa"),v={components:{Reports:f["a"]},data:function(){return{header:[{label:"Transaction Date",align:"left",field:"transaction_date"},{label:"SKU",field:"SKU"},{label:"Description",field:"description"},{label:"Regular Price",field:"regular_price"},{label:"Sale Price",field:"sale_price"},{label:"Type",field:"type"},{label:"Quantity",field:"quantity"},{label:"Gross Sales",field:"gross_sales"},{label:"MDR",field:"mdr"},{label:"Service Fees",field:"service_fee"},{label:"Net Sales",field:"net_sales"}],data:[],start_date:"2019/11/15",end_date:"2020/03/31"}},methods:{getData:function(){var t=h()(p.a.mark(function t(){var e=this;return p.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.data=[],this.$dbCon.service("report-sales").find({query:{store_id:this.$local.store_token}}).then(function(t){e.data=t.data,e.data.map(function(t,a){e.data[a].transaction_date=e.$formatDate(e.data[a].transaction_date),e.data[a].regular_price=e.$prettyMoney(e.data[a].regular_price),e.data[a].sale_price=e.$prettyMoney(e.data[a].sale_price),e.data[a].gross_sales=e.$prettyMoney(e.data[a].gross_sales),e.data[a].mdr=e.$prettyMoney(e.data[a].mdr),e.data[a].service_fee=e.$prettyMoney(e.data[a].service_fee),e.data[a].net_sales=e.$prettyMoney(e.data[a].net_sales),delete e.data[0].store_id,delete e.data[a]._id,delete e.data[a].convenience_fee,delete e.data[a].revenue})});case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.getData()},watch:{start_date:function(){this.getData()},end_date:function(){this.getData()}}},_=v,b=a("2877"),g=Object(b["a"])(_,c,d,!1,null,null,null),y=g.exports,q={},w=Object(b["a"])(q,s,r,!1,null,null,null),x=w.exports,k={},C=Object(b["a"])(k,n,i,!1,null,null,null),$=C.exports,S={components:{TransactionsReport:y,InventoryReport:x,SalesReport:$},data:function(){return{type_of_report:"Transactions"}}},P=S,D=Object(b["a"])(P,o,l,!1,null,null,null);e["default"]=D.exports},f653:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-breadcrumbs",{staticClass:"text-grey"},[a("q-breadcrumbs-el",{attrs:{label:"Maintenance",icon:"widgets"}}),a("q-breadcrumbs-el",{attrs:{label:"Users",icon:"people"}})],1),a("br"),a("q-table",{attrs:{data:t.data,columns:t.columns,filter:t.filter,"row-key":"name",flat:"",bordered:""},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("AddUser",{staticClass:"q-pr-md"}),a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return a("q-tr",{attrs:{props:e}},[a("q-td",{key:"name",attrs:{props:e}},[t._v(t._s(e.row.fname+" "+e.row.lname))]),a("q-td",{key:"position",attrs:{props:e}},[t._v(t._s(e.row.position))]),a("q-td",{key:"email",attrs:{props:e}},[t._v(t._s(e.row.email))]),a("q-td",{key:"user_type",attrs:{props:e}},[t._v(t._s(e.row.store_account_type))]),a("q-td",{key:"access",attrs:{props:e}},["Owner"!=e.row.user_type&&1==e.row.verified?a("q-toggle",{attrs:{value:e.row.access,color:"primary"},nativeOn:{click:function(a){return t.changeAccess(e.row._id,e.row.access)}}}):t._e(),"Owner"!=e.row.user_type&&1!=e.row.verified?a("ActivateUser"):t._e()],1),a("q-td",{key:"actions",attrs:{props:e}},[a("div",{staticClass:"row"},[a("ViewUser",{staticClass:"col-6",attrs:{data:e.row}}),a("EditUser",{staticClass:"col-6",attrs:{data:e.row}})],1)])],1)}}])}),a("q-page-sticky",{staticStyle:{"z-index":"999"},attrs:{position:"bottom-right",offset:[30,30]}})],1)},r=[],n=(a("7514"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{attrs:{icon:"add",label:"ADD USER",unelevated:"",color:"primary"},on:{click:function(e){t.opened=!0}}}),a("q-dialog",{attrs:{persistent:""},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("q-card",{style:t.$q.screen.lt.sm?"":"min-width: 700px; max-width: 40vw;"},[a("q-card-section",{staticClass:"bg-primary text-white"},[a("div",{staticClass:"text-h6"},[t._v("Add New Store User")])]),a("q-separator"),a("q-card-section",{staticClass:"scroll q-gutter-sm",staticStyle:{"max-height":"60vh"}},[0!=t.error.length?a("q-banner",{staticClass:"bg-red text-white",attrs:{rounded:""},scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"error",color:"white"}})]},proxy:!0}],null,!1,3709320977)},[a("ul",t._l(t.error,function(e,s){return a("li",{key:s},[t._v(t._s(e))])}),0)]):t._e(),a("div",[a("div",[a("q-input",{attrs:{label:"First Name"},model:{value:t.fname,callback:function(e){t.fname=e},expression:"fname"}}),a("q-input",{attrs:{label:"Last Name"},model:{value:t.lname,callback:function(e){t.lname=e},expression:"lname"}}),a("q-input",{attrs:{label:"Position"},model:{value:t.position,callback:function(e){t.position=e},expression:"position"}}),a("q-input",{attrs:{label:"Email Address"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("q-select",{attrs:{options:["Admin","Employee"],label:"User Type"},model:{value:t.user_type,callback:function(e){t.user_type=e},expression:"user_type"}}),a("q-select",{attrs:{options:t.permission_options,multiple:"","use-chips":"",label:"Permission"},model:{value:t.permission,callback:function(e){t.permission=e},expression:"permission"}})],1)])],1),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"Submit",color:"primary"},on:{click:t.validate}}),a("q-btn",{attrs:{flat:"",label:"Cancel",color:"grey"},on:{click:t.close}})],1)],1)],1)],1)}),i=[],o=a("a34a"),l=a.n(o),c=(a("96cf"),a("c973")),d=a.n(c),u={data:function(){return{opened:!1,fname:"",lname:"",position:"",email:"",password:this.password_generator(),user_type:"Admin",permission:["Store Owner Management","Giftwrapping Services Management","Delivery Management","Fuel/Transpo Management","Booking Services Management","Portfolio Management","Add products/services","Delete products/services","Add/Subract Inventory","Advertise products/services","Store Management","User Management","Reports","Ratings and Reviews","Security and Privacy Setting"],permission_options:["Store Owner Management","Giftwrapping Services Management","Delivery Management","Fuel/Transpo Management","Booking Services Management","Portfolio Management","Add products/services","Delete products/services","Add/Subract Inventory","Advertise products/services","Store Management","User Management","Reports","Ratings and Reviews","Security and Privacy Setting"],error:[]}},methods:{validate:function(){this.error=[],""==this.fname.trim()&&this.error.push("First Name field is required"),""==this.lname.trim()&&this.error.push("Last Name field is required"),""==this.email.trim()&&this.error.push("Email Address field is required"),0==this.permission.length&&this.error.push("Permission field is required"),0==this.error.length&&this.submit()},submit:function(){var t=this;this.$q.dialog({title:"Confirmation",message:"Do you want to add this user?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(d()(l.a.mark(function e(){return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$dbCon.authenticate();case 2:t.$dbCon.service("users").create({store_id:t.$local.getItem("store_token"),fname:t.fname,lname:t.lname,position:t.position,email:t.email,password:t.password,user_type:t.user_type,permission:t.permission,access:!1,verified:!1,expiration:"",store_account_type:t.user_type,system_user_type:"Store Owner"}).then(function(){t.$axios.post(t.$appLink+"/customizableEmail",{receiver:t.email,subject:"New Registered Employee",message:'<h3>Welcome to Anturaz!</h3>\n                  <p>Congratulation! You are now part of Anturaz as Store Employee. To continue, kindly click the link below and verify your account using the credential below.</p>\n                  <br><a href="'+t.$appLink+'/VerifyAccount/StoreEmployee">'+t.$appLink+"/VerifyAccount/StoreEmployee</a>\n                  <br><br>\n                  <b>Email Address: </b>"+t.email+"<br>\n                  <b>Password: </b> "+t.password+"\n                  "}),t.close(),t.$q.dialog({title:"Success!",message:"The user is successfully added.",cancel:{push:!0,color:"grey",flat:!0}})});case 3:case"end":return e.stop()}},e)})))},close:function(){this.fname="",this.lname="",this.position="",this.email="",this.user_type="Admin",this.permission=["Store Owner Management","Giftwrapping Services Management","Delivery Management","Fuel/Transpo Management","Booking Services Management","Portfolio Management","Add products/services","Delete products/services","Add/Subract Inventory","Advertise products/services","Store Management","User Management","Reports","Ratings and Reviews","Security and Privacy Setting"],this.opened=!1},password_generator:function(){for(var t=8,e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",a="",s=0,r=e.length;s<t;++s)a+=e.charAt(Math.floor(Math.random()*r));return a}},watch:{user_type:function(){"Admin"==this.user_type?this.permission=["Store Owner Management","Giftwrapping Services Management","Delivery Management","Fuel/Transpo Management","Booking Services Management","Portfolio Management","Add products/services","Delete products/services","Add/Subract Inventory","Advertise products/services","Store Management","User Management","Reports","Ratings and Reviews","Security and Privacy Setting"]:this.permission=["Giftwrapping Services Management","Delivery Management","Fuel/Transpo Management","Booking Services Management","Portfolio Management","Add products/services","Delete products/services","Add/Subract Inventory","Advertise products/services"]}}},p=u,m=a("2877"),h=Object(m["a"])(p,n,i,!1,null,null,null),f=h.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{attrs:{icon:"remove_red_eye",color:"primary",flat:""},on:{click:function(e){t.opened=!0}}}),a("q-dialog",{attrs:{persistent:""},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("q-card",{staticStyle:{width:"600px"}},[a("q-card-section",{staticClass:"row items-center bg-primary text-white"},[a("div",{staticClass:"text-h6"},[t._v("View User")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("q-separator"),a("q-card-section",{staticClass:"q-gutter-sm"},[a("q-input",{attrs:{outlined:"",readonly:"",label:"First Name"},model:{value:t.data.fname,callback:function(e){t.$set(t.data,"fname",e)},expression:"data.fname"}}),a("q-input",{attrs:{outlined:"",readonly:"",label:"Last Name"},model:{value:t.data.lname,callback:function(e){t.$set(t.data,"lname",e)},expression:"data.lname"}}),a("q-input",{attrs:{outlined:"",readonly:"",label:"Email Address"},model:{value:t.data.email,callback:function(e){t.$set(t.data,"email",e)},expression:"data.email"}}),a("q-input",{attrs:{outlined:"",readonly:"",label:"Position"},model:{value:t.data.position,callback:function(e){t.$set(t.data,"position",e)},expression:"data.position"}}),a("q-select",{attrs:{outlined:"",options:["Admin","Employee"],readonly:"",label:"User Type"},model:{value:t.data.user_type,callback:function(e){t.$set(t.data,"user_type",e)},expression:"data.user_type"}}),a("q-select",{attrs:{outlined:"",readonly:"",options:t.permission_options,multiple:"","use-chips":"",label:"User Permission"},model:{value:t.data.permission,callback:function(e){t.$set(t.data,"permission",e)},expression:"data.permission"}})],1),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{label:"close",flat:""},on:{click:function(e){t.opened=!1}}})],1)],1)],1)],1)},_=[],b={props:["data"],data:function(){return{opened:!1,permission_options:["Store Owner Management","Giftwrapping Services Management","Delivery Management","Fuel/Transpo Management","Booking Services Management","Portfolio Management","Add products/services","Delete products/services","Add/Subract Inventory","Advertise products/services","Store Management","User Management","Reports","Ratings and Reviews","Security and Privacy Setting"]}}},g=b,y=Object(m["a"])(g,v,_,!1,null,null,null),q=y.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{attrs:{icon:"edit",color:"primary",flat:""},on:{click:function(e){t.opened=!0}}}),a("q-dialog",{attrs:{persistent:""},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("q-card",{staticStyle:{width:"600px"}},[a("q-card-section",{staticClass:"row items-center bg-primary text-white"},[a("div",{staticClass:"text-h6"},[t._v("Edit User")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("q-separator"),a("q-card-section",{staticClass:"q-gutter-sm scroll",staticStyle:{"max-height":"70vh"}},[0!=t.error.length?a("q-banner",{staticClass:"bg-red text-white",attrs:{rounded:""},scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"error",color:"white"}})]},proxy:!0}],null,!1,3709320977)},[a("ul",t._l(t.error,function(e,s){return a("li",{key:s},[t._v(t._s(e))])}),0)]):t._e(),0!=t.error.length?a("br"):t._e(),a("q-input",{attrs:{outlined:"",label:"First Name"},model:{value:t.user.fname,callback:function(e){t.$set(t.user,"fname",e)},expression:"user.fname"}}),a("q-input",{attrs:{outlined:"",label:"Last Name"},model:{value:t.user.lname,callback:function(e){t.$set(t.user,"lname",e)},expression:"user.lname"}}),a("q-input",{attrs:{outlined:"",label:"Position"},model:{value:t.user.position,callback:function(e){t.$set(t.user,"position",e)},expression:"user.position"}}),a("q-input",{attrs:{outlined:"",readonly:"",label:"Email Address"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),a("q-select",{attrs:{outlined:"",readonly:"",options:["Admin","Employee"],label:"User Type"},model:{value:t.user.user_type,callback:function(e){t.$set(t.user,"user_type",e)},expression:"user.user_type"}}),a("q-select",{attrs:{outlined:"",options:t.permission_options,multiple:"","use-chips":"",label:"User Permission"},model:{value:t.user.permission,callback:function(e){t.$set(t.user,"permission",e)},expression:"user.permission"}})],1),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{label:"close",flat:""},on:{click:function(e){t.opened=!1}}}),a("q-btn",{attrs:{label:"submit",flat:"",color:"primary"},on:{click:t.validate}})],1)],1)],1)],1)},x=[],k={props:["data"],data:function(){return{opened:!1,user:{},permission_options:["Store Owner Management","Giftwrapping Services Management","Delivery Management","Fuel/Transpo Management","Booking Services Management","Portfolio Management","Add products/services","Delete products/services","Add/Subract Inventory","Advertise products/services","Store Management","User Management","Reports","Ratings and Reviews","Security and Privacy Setting"],error:[]}},methods:{validate:function(){this.error=[],""==this.user.fname.trim()&&this.error.push("First Name field is required"),""==this.user.lname.trim()&&this.error.push("Last Name field is required"),""==this.user.email.trim()&&this.error.push("Email Address field is required"),0==this.user.permission.length&&this.error.push("Permission field is required"),0==this.error.length&&this.submit()},submit:function(){var t=this;this.$q.dialog({title:"Confirmation",message:"Are you sure you want to update this user?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){t.$dbCon.service("users").patch(t.data._id,t.user).then(function(){t.opened=!1})})}},mounted:function(){this.user=this.data},watch:{"user.user_type":function(){"Admin"==this.user.user_type?this.user.permission=["Store Owner Management","Giftwrapping Services Management","Delivery Management","Fuel/Transpo Management","Booking Services Management","Portfolio Management","Add products/services","Delete products/services","Add/Subract Inventory","Advertise products/services","Store Management","User Management","Reports","Ratings and Reviews","Security and Privacy Setting"]:this.user.permission=["Giftwrapping Services Management","Delivery Management","Fuel/Transpo Management","Booking Services Management","Portfolio Management","Add products/services","Delete products/services","Add/Subract Inventory","Advertise products/services"]}}},C=k,$=Object(m["a"])(C,w,x,!1,null,null,null),S=$.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{attrs:{label:"Activate User",unelevated:"",color:"primary",size:"sm"},on:{click:function(e){t.opened=!0}}}),a("q-dialog",{model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("q-card",{style:t.$q.screen.lt.sm?"":"min-width: 700px; max-width: 40vw;"},[a("q-card-section",{staticClass:"bg-primary text-white"},[a("div",{staticClass:"text-h6"},[a("q-icon",{attrs:{name:"verified_user",color:"white",size:"30px"}}),t._v("  Activate User\n        ")],1)]),a("q-separator"),a("q-card-section",{staticClass:"scroll q-gutter-sm",staticStyle:{"max-height":"60vh"}},[a("div",[a("div",[t.$q.screen.lt.md?t._e():a("div",{attrs:{align:"left"}},[a("q-btn",{staticClass:"q-ml-sm",attrs:{color:"OnlinePayment"==t.tab?"primary":"grey",unelevated:"",outline:"OnlinePayment"!=t.tab,size:"20px",label:"Online Payment",icon:"payment"},on:{click:function(e){t.tab="OnlinePayment"}}}),a("q-btn",{attrs:{color:"BankDeposit"==t.tab?"primary":"grey",unelevated:"",outline:"BankDeposit"!=t.tab,size:"20px",label:"bank deposit",icon:"account_balance"},on:{click:function(e){t.tab="BankDeposit"}}})],1),t.$q.screen.lt.md?a("q-btn-group",{attrs:{rounded:""}},[a("q-btn",{class:"OnlinePayment"==t.tab?"text-white":"text-grey",attrs:{rounded:"",color:"OnlinePayment"==t.tab?"primary":"white",label:"Online Payment",icon:"payment"},on:{click:function(e){t.tab="OnlinePayment"}}}),a("q-btn",{class:"BankDeposit"==t.tab?"text-white":"text-grey",attrs:{rounded:"",color:"BankDeposit"==t.tab?"primary":"white",label:"Bank Deposit",icon:"account_balance"},on:{click:function(e){t.tab="BankDeposit"}}})],1):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:"BankDeposit"==t.tab,expression:"tab=='BankDeposit'"}]},[a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("1. Deposit amount to the following BDO bank account:")]),a("br"),a("div",{staticClass:"q-pl-md q-pt-xs"},[a("b",[t._v("Account Name:")]),t._v(" Anturaz, Inc.\n                  "),a("br"),a("b",[t._v("Account Number:")]),t._v(" 1802 394 837\n                  "),a("br"),a("b",[t._v("Bank Name:")]),t._v(" Banco De Oro\n                  "),a("br"),a("b",[t._v("Amount:")]),t._v("\n                  "+t._s(t.$prettyMoney(t.advertise_per_month*t.months_of_advertisment))+"\n                ")])]),a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("2. Upload deposit slip/screenshot of your payment")]),a("br"),a("div",{staticClass:"q-pl-md q-pt-xs"},[a("b",[t._v("A. Over-the-counter payments:")]),t._v(" Write you full name onto the deposit slip. Scan or take a photograph of the deposit slip\n                  "),a("br"),a("b",[t._v("B. Online Banking:")]),t._v("\n                  Take a screenshot of the successful transaction made\n                ")])]),a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("3. Wait until your payment is verified by the Anturaz Admin.")])]),a("div",{staticClass:"q-pa-sm items-right",attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",unelevated:"",label:"Pay via Bank Deposit"},on:{click:t.payViaBankDeposit}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"OnlinePayment"==t.tab,expression:"tab=='OnlinePayment'"}]},[a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("1. Select Account Type from dropdown list. These are the following")]),a("div",[a("ul",[a("li",[t._v("Visa")]),a("li",[t._v("Mastercard")]),a("li",[t._v("American Express")])])])]),a("div",{staticClass:"q-pa-sm",attrs:{align:"left"}},[a("b",[t._v("2. Enter Account Information")]),a("div",[a("ul",[a("li",[t._v("Card Number")]),a("li",[t._v("Card Holder")]),a("li",[t._v("Expiry Date")]),a("li",[t._v("CVV")])])])]),a("div",{staticClass:"q-pa-sm items-right",attrs:{align:"right"}},[a("AltPayNet",{attrs:{onlinePaymentResult:t.onlinePaymentResult,item:{price:t.advertise_per_month*t.months_of_advertisment,description:t.months_of_advertisment+" Month/s of Advertisment ("+t.advertise_per_month+"/month)"}}})],1)])],1)])])],1)],1)],1)},D=[],A=a("31f2"),O=a("8961"),M={components:{AltPayNet:A["a"],DepositSlipUpload:O["a"]},data:function(){return{opened:!1,tab:"OnlinePayment"}}},I=M,N=Object(m["a"])(I,P,D,!1,null,null,null),E=N.exports,R={components:{AddUser:f,ViewUser:q,EditUser:S,ActivateUser:E},data:function(){return{filter:"",columns:[{name:"name",label:"Name",field:"name",align:"center"},{name:"position",label:"Position",field:"position",align:"center"},{name:"email",label:"Email Address",field:"email",align:"center"},{name:"user_type",label:"User Type",field:"user_type",align:"center"},{name:"access",label:"Access",align:"center"},{name:"actions",label:"Actions",align:"center"}],data:[]}},methods:{getData:function(){var t=this;this.$dbCon.service("users").find({query:{store_id:this.$local.getItem("store_token")}}).then(function(e){console.log(e),t.data=e.data,t.$forceUpdate()})},changeAccess:function(t,e){var a=this;this.$q.dialog({title:"Confirmation",message:"Do you want to change the access of this user?",cancel:{push:!0,color:"grey",flat:!0}}).onOk(function(){a.$dbCon.service("users").patch(t,{access:!e})})}},mounted:function(){var t=this;this.$dbCon.service("users").onDataChange(function(){t.getData()})}},F=R,T=Object(m["a"])(F,s,r,!1,null,null,null);e["default"]=T.exports}}]);